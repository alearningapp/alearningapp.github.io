!function(e){function t(t){for(var i,a,s=t[0],c=t[1],u=t[2],d=0,f=[];d<s.length;d++)a=s[d],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&f.push(r[a][0]),r[a]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);for(l&&l(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],i=!0,s=1;s<n.length;s++){var c=n[s];0!==r[c]&&(i=!1)}i&&(o.splice(t--,1),e=a(a.s=n[0]))}return e}var i={},r={index:0},o=[];function a(t){if(i[t])return i[t].exports;var n=i[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=e,a.c=i,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)a.d(n,i,function(t){return e[t]}.bind(null,i));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="";var s=window.webpackJsonp=window.webpackJsonp||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([4,"chunk-vendors","chunk-common"]),n()}({0:function(e,t){},"0f77":function(e,t,n){"use strict";n("5ef7")},1:function(e,t){},"141b":function(e,t,n){},2:function(e,t){},2121:function(e,t,n){"use strict";n("b293")},"2aa3":function(e,t,n){},3439:function(e,t,n){"use strict";n("576b")},"34eb":function(e,t,n){"use strict";n("6ff8")},3805:function(e,t,n){"use strict";n("3d05")},"3d05":function(e,t,n){},4:function(e,t,n){e.exports=n("56d7")},"43a4":function(e,t,n){"use strict";n("4771")},"44ae":function(e,t,n){},"475a":function(e,t,n){"use strict";n("c951")},4771:function(e,t,n){},5363:function(e,t,n){"use strict";n("44ae")},"56d7":function(e,t,n){"use strict";n.r(t),n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),r=n("5530"),o=(n("d3b7"),n("25f0"),n("498a"),n("b0c0"),n("2f62"));var a={data:function(){return{zIndex:0,highlightmark:"None",editpos:"None",selectbg:"none",bgs:["none","white","#f0f0f0"],toggle:0}},methods:{clean:function(){confirm("Clean the content?")&&(this.$refs.editor.innerHTML="")}},mounted:function(){var e=this;this.zIndex=+new Date,document.addEventListener("mouseup",(function(t){"None"!=e.highlightmark&&(function(e){var t="span",n=window.getSelection();if(n.rangeCount>0){var i=n.getRangeAt(0),r=i.commonAncestorContainer;if("#text"==r.nodeName){var o=document.createElement(t);if(o.style.backgroundColor=e,0==n.toString().trim().length)return;i.surroundContents(o);for(var a=o.parentNode.getElementsByTagName("span"),s=0;s<a.length;s++){var c=a[s];c!==o&&i.intersectsNode(c)&&(c.outerHTML=c.innerHTML)}}else{for(var u=[],l=document.createTreeWalker(r,NodeFilter.SHOW_ALL);l.nextNode();){var d=l.currentNode;1!==i.comparePoint(d,0)&&-1!==i.comparePoint(d,d.length)&&d.nodeType===Node.TEXT_NODE&&u.push(d)}var f=i.startContainer,p=i.startOffset;s=0,u.forEach((function(n){var r=document.createElement(t);if(r.style.backgroundColor=e,0==s){var o=n.nodeValue,a=o.substring(i.startOffset),c=o.substring(0,i.startOffset);n.nodeValue=c,r.textContent=a;var l=n.parentNode;l.insertBefore(r,n.nextSibling)}else s==u.length-1?(c=(o=n.nodeValue).substring(i.endOffset),a=o.substring(0,i.endOffset),n.nodeValue=c,r.textContent=a,(l=n.parentNode).insertBefore(r,n)):(r.textContent=n.nodeValue,(l=n.parentNode).replaceChild(r,n));s++})),i.setStart(f,p),n.removeAllRanges(),n.addRange(i)}}}(e.highlightmark),t.stopPropagation())}))}},s=n("2877"),c=Object(s.a)(a,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{class:{toggle:e.toggle}},[e.config.editor?n("div",{staticStyle:{margin:"5px",width:"100%",background:"rgba(255, 255, 255, 0.6)"},style:{position:"None"==e.editpos?"sticky":"fixed",top:"Top"==e.editpos?0:"auto",bottom:"Bottom"==e.editpos?0:"auto",zIndex:e.zIndex}},[n("div",{staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",[e._l(e.bgs,(function(t){return n("span",{key:t,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block"},style:{background:t,border:e.selectbg==t?"1px solid red":"1px solid gray"},on:{click:function(n){e.selectbg=t}}})})),n("span",{staticStyle:{"margin-left":"20px",cursor:"pointer"},on:{click:function(t){return e.clean()}}},[e._v("Clear")]),n("span",{staticStyle:{"margin-left":"10px",cursor:"pointer"},style:{fontWeight:e.toggle?"bold":"normal"},on:{click:function(t){e.toggle=!e.toggle}}},[e._v("H/S")])],2),n("div",{staticStyle:{display:"flex"}},[n("div",{staticStyle:{"user-select":"none"}},[n("span",{staticStyle:{"margin-right":"20px"},on:{click:function(t){return e.updateConfig({activeTran:!e.config.activeTran})}}},[e._v(" "+e._s(e.config.activeTran?"ON":"OFF"))]),e._l(["None","yellow","pink","lightgreen"],(function(t){return n("span",{key:t,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block",margin:"5px",cursor:"pointer","border-bottom":"2px solid gray"},style:{background:t,borderColor:e.highlightmark==t?"red":"gray",borderWidth:e.highlightmark==t?"2px ":"0"},on:{click:function(n){e.highlightmark=t}}},[e._v(e._s(t)+" ")])}))],2),n("div",{staticStyle:{"user-select":"none"}},e._l(["Top","Bottom","None"],(function(t){return n("span",{key:t,staticStyle:{"min-width":"10px","min-height":"10px",display:"inline-block",margin:"5px",cursor:"pointer"},style:{background:t,color:e.editpos==t?"red":"gray"},on:{click:function(n){e.editpos=t}}},[e._v(e._s(t)+" ")])})),0)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:!e.toggle,expression:"!toggle"}],ref:"editor",staticStyle:{border:"2px dashed #ccc",padding:"5px"},style:{background:e.selectbg},attrs:{contenteditable:"true"}})]):e._e()])}),[],!1,null,null,null).exports,u=n("fdab"),l=n("1da1"),d=(n("96cf"),n("fb6a"),n("f5ef")),f=n("2909"),p=(n("d81d"),n("ac1f"),n("1276"),n("a434"),n("1157")),h=n.n(p),m={props:["word","playing","playMode","playRel"],data:function(){return{curPlay:"",rwords:[]}},created:function(){},computed:{relwordList:function(){return this.rwords.slice(0,Math.min(this.rwords.length,this.playRel))},relwords:function(){return this.$store.state.config.relwords}},methods:{playWords:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(i=h()(e),t.curPlay=t.word.q,t.scroll2el(h()(t.$refs.word),i),t.playing){n.next=6;break}return n.abrupt("return");case 6:return n.next=8,t.playSound(t.word,!0);case 8:if(!(t.playMode>=2)){n.next=13;break}return n.next=11,t.sleep(500);case 11:return n.next=13,t.playSound(t.word,!0);case 13:if(!t.isSpell){n.next=24;break}return n.next=16,t.sleep(1e3);case 16:r=t.curPlay.split("").map((function(e){return e})),o=0;case 18:if(!(o<r.length)){n.next=24;break}return n.next=21,t.tts("en",r[o],!0,6);case 21:o++,n.next=18;break;case 24:if(!(t.playMode>=3)){n.next=27;break}return n.next=27,t.playSound(t.word,!0,"zh");case 27:return n.next=29,t.sleep(1e3);case 29:if(!t.playRel){n.next=32;break}return n.next=32,t.playRwords(i);case 32:t.curPlay="";case 33:case"end":return n.stop()}}),n)})))()},playRwords:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=t.rwords,r=0;case 2:if(!(r<i.length)){n.next=21;break}if(t.playing){n.next=5;break}return n.abrupt("return");case 5:return t.curPlay=i[r].q,t.scroll2el(h()(t.$refs.rword[r]),e),n.next=10,t.playSound(i[r],!0);case 10:if(!(t.playMode>=2)){n.next=13;break}return n.next=13,t.playSound(i[r],!0);case 13:if(!(t.playMode>=3)){n.next=16;break}return n.next=16,t.playSound(i[r],!0,"zh");case 16:return n.next=18,t.sleep(1e3);case 18:r++,n.next=2;break;case 21:case"end":return n.stop()}}),n)})))()},onEnterPlay:function(e,t){var n=this;Object(l.a)(regeneratorRuntime.mark((function i(){var r,o,a;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r=!1,o=function t(){r=!0,e.target.removeEventListener("mouseout",t)},e.target.addEventListener("mouseout",o),a=0;case 4:if(!(a<100)){i.next=13;break}if(!r){i.next=7;break}return i.abrupt("return");case 7:return i.next=10,n.playSound(t,!0);case 10:a++,i.next=4;break;case 13:case"end":return i.stop()}}),i)})))()},loadRords:function(e){if(e){var t=this;h.a.ajax({url:"/data/word/r/"+e.q.substring(0,2)+"/"+e.q+".js",type:"get",dataType:"jsonp",jsonpCallback:e.q,timeout:5e3,cache:1,success:function(e){var n;t.rwords.length=0;var i=e[1].map((function(e){return{q:e[0],to:e[1],am:e[2]}}));(n=t.rwords).push.apply(n,Object(f.a)(i))},error:function(e){t.rwords.length=0}})}}},mounted:function(){this.relwords&&this.loadRords(this.word)},watch:{relwords:function(e){e?this.loadRords(this.word):this.rwords.splice(0,this.rwords.length)}}},g=(n("34eb"),Object(s.a)(m,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"word",staticClass:"word",staticStyle:{padding:"5px 0"}},[n("div",{class:{detach:!e.word.i&e.word.n,remove:!e.word.n}},[n("div",{class:{cur:e.curPlay==e.word.q},staticStyle:{cursor:"pointer"},on:{click:function(t){return e.playSound(e.word)}}},[e._v(" "+e._s(e.word.q)+" "),e.word.am?n("b",{on:{mouseenter:function(t){return e.onEnterPlay(t,e.word)}}},[e._v(" ["+e._s(e.word.am)+"]")]):e._e()]),n("div",{staticStyle:{"font-weight":"bold"}},[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(t){return e.toggleItemIsNew(e.word,t)}}},[e._v(e._s(e.word.to))])])]),e._l(e.relwordList,(function(t){return n("div",{key:t.q,ref:"rword",refInFor:!0,staticClass:"rword"},[n("div",{class:{cur:e.curPlay==t.q},staticStyle:{cursor:"pointer"},on:{click:function(n){return e.playSound(t)}}},[e._v(" "+e._s(t.q)+" "),t.am?n("b",{on:{mouseenter:function(n){return e.onEnterPlay(n,t)}}},[e._v(" ["+e._s(t.am)+"]")]):e._e()]),n("div",[n("span",{staticStyle:{cursor:"pointer"},on:{click:function(n){return e.toggleItemIsNew(t,n)}}},[e._v(e._s(t.to))])])])}))],2)}),[],!1,null,"12994e18",null)).exports,v={data:function(){return{pageSize:5,page:1,playMode:0,playRel:0,playing:0}},created:function(){},components:{WordItem:g},computed:Object(r.a)({relwords:function(){return this.$store.state.config.relwords},pageList:function(){var e=this.words;return 0==e.length?e:e.slice((this.page-1)*this.pageSize,this.page*this.pageSize)},pages:function(){var e=this.words;return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(o.b)(["curItem","words"])),methods:{changePlayMode:function(){this.playing&&this.playMode?(this.playMode=this.playMode>2?0:this.playMode+1,0==this.playMode&&(this.playing=0)):(this.playing=!this.playing,this.playMode||(this.playMode=1))},changePlayNum:function(e){},getPageItems:function(e){var t=this.words;return 0==t.length?[]:t.slice(e*this.pageSize,(e+1)*this.pageSize)},toPage:function(e){e<1||e>this.pages||(this.page=e)},playList:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=e.page-1;case 1:if(!(n<e.pages)){t.next=23;break}e.getPageItems(n),i=0;case 5:if(!(i<e.$refs.word.length)){t.next=17;break}if(e.playing){t.next=9;break}return e.$store.commit("curPlay",null),t.abrupt("return");case 9:return t.next=12,e.sleep(1);case 12:return t.next=14,e.$refs.word[i].playWords(e.$refs.words);case 14:i++,t.next=5;break;case 17:return e.page++,t.next=20,e.sleep(1);case 20:n++,t.next=1;break;case 23:e.page--,e.playing=0;case 25:case"end":return t.stop()}}),t)})))()}},mounted:function(){var e=this;d.a.$on("toggleAutoPlay",(function(){e.playing=!e.playing}))},watch:{playing:function(e){e&&this.playList()}}},y=(n("729e"),Object(s.a)(v,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{ref:"words",staticClass:"witems",staticStyle:{padding:"5px","max-height":"calc(100vh - 180px)",overflow:"auto"}},e._l(e.pageList,(function(t){return n("WordItem",{key:t.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{word:t,playMode:e.playMode,playing:e.playing,playRel:e.playRel}})})),1),n("div",{staticClass:"bottom"},[n("a",{class:{playing:e.playing},on:{click:function(t){return e.changePlayMode()}}},[e._v("Play"+e._s(e.playMode))]),e.relwords?n("a",{on:{click:function(t){e.playRel=e.playRel>=20?0:e.playRel+5}}},[e._v(" PR"+e._s(e.playRel)+" ")]):e._e(),n("div",{staticStyle:{"text-align":"right",float:"right"}},[e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){e.toPage(parseInt(e.page)+1)}}},[e._v(" Next ")])])])])}),[],!1,null,"a545123c",null)).exports,w=(n("841c"),n("99af"),n("5319"),n("7db0"),n("a15b"),n("466d"),n("4de4"),n("3ca3"),n("ddb0"),n("2b3d"),n("9861"),n("b60c")),b=n("ba5f"),x=n("1f80"),k=(n("a630"),n("6062"),n("4e82"),n("159b"),n("34e9")),T=n("eb5e"),C=n.n(T),_=n("da7e"),S=n.n(_),$=n("db49"),O=S.a.get("my")||[],j=[{n:"Radio",data:[],a:1},{n:"Video",c:$.d,data:function(){return this.videos}},{n:"Fav",data:O,c:[]},{n:"TV",data:[],c:[],s:function(e,t){return(e["group-title"]+e["tvg-language"]+e["tvg-country"]+e.title).toLowerCase().indexOf(t)>-1},c2:[],c2f:function(e,t){var n=e["tvg-language"];return n&&n.indexOf(t)>-1},title:function(e){return e.title},cnt:{}},{n:"MJ",data:[],c:[],disabled:1},{n:"Local",data:[],c:[],disabled:0,del:1},{n:"TTS",data:[],a:1},{n:"Custom",data:[],a:1}],A=Array.from(new Set(O.map((function(e){return j[e.mediaType].n}))));j[2].c=A;var P={data:function(){return{refresh:1,cachedNum:0,loading:0,favMap:O.reduce((function(e,t){return e[t.vid]=1,e}),{}),mediaTypes:j,curOpt1:"",curOpt2:"",pageSize:500,page:1,curVideoId:"",search:"",busy:0,mediaType:1,subIndex:0,done:0}},created:function(){},computed:Object(r.a)(Object(r.a)({},Object(o.b)(["words"])),{},{preload:function(){return this.$store.state.config.preload},cnt:function(){return this.mediaTypes[this.mediaType].cnt},curMediaType:function(){return this.mediaTypes[this.mediaType]},opts1:function(){var e=this,t=this.mediaTypes[this.mediaType].c||[],n=this.mediaTypes[this.mediaType].cnt;return this.curOpt2&&n&&(t=t.filter((function(t){return n[t+e.curOpt2]}))),t},opts2:function(){var e=this,t=this.mediaTypes[this.mediaType].c2||[],n=this.mediaTypes[this.mediaType].cnt;return this.curOpt1&&n&&(t=t.filter((function(t){return n[e.curOpt1+t]}))),t},pageList:function(){return this.searchList()},pages:function(){return 1}},Object(o.b)(["videos"])),methods:{ifneedload:function(){0==this.pageList.length&&"Video"==this.curMediaType.n&&d.a.$emit("fresh","videos",1)},cacheWords:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a,s,c,u,l,d,f,p,h,m,g,v,y,b,k,T;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(0,i="","",!(r=e.cc)){n.next=74;break}if(o="",0!=r.indexOf("http")){n.next=17;break}return n.prev=7,n.next=10,fetch(r).then((function(e){return e.text()}));case 10:if(0==(o=n.sent).indexOf("<?xml")){for(o=o.replace(/\n/g,""),a=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,c="WEBVTT\n\n",u=-1;null!=(s=a.exec(o));)-1==u&&(u=12==s[1].length?0:1),c+=u?"".concat(s[1],"0 --\x3e ").concat(s[2],"0\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n"):"".concat(s[1]," --\x3e ").concat(s[2],"\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n");o=c,1}n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7);case 17:if(l=o.match(/[A-Z]/g),d=o.match(/[a-z]/gi,""),0,!(l&&d&&l.length/d.length>.4)){n.next=57;break}(f=o.split(/\n+/).filter((function(e){return 2!=e.indexOf(":")}))).shift(),p=[],h=0;case 25:if(!(h<f.length)){n.next=54;break}m=f[h].trim(),g=h+1;case 28:if(!(g<f.length)){n.next=38;break}if(!(f[g].trim().indexOf(m)>-1)){n.next=34;break}return m=f[h=g].trim(),n.abrupt("continue",35);case 34:return n.abrupt("break",38);case 35:g++,n.next=28;break;case 38:v=p.length,y=v-1;case 41:if(!(y>=0&&v>=p.length-4)){n.next=49;break}if(b=p[y],0!=m.indexOf(b)){n.next=46;break}return v=y,n.abrupt("continue",46);case 46:y--,n.next=41;break;case 49:p.length=v,p.push(m);case 51:h++,n.next=25;break;case 54:o=p.join(" ").toLowerCase().replace(/\s+/," "),n.next=58;break;case 57:1;case 58:if(!(i=o).trim()){n.next=74;break}k=Object(w.b)(t.words,i,!1),T=0;case 64:if(!(T<k[1].length)){n.next=74;break}return n.next=70,Object(x.b)(k[1][T].q,k[1][T].to);case 70:case 71:T++,n.next=64;break;case 74:case"end":return n.stop()}}),n,null,[[7,14]])})))()},getFileBase64:function(e){return new Promise((function(t,n){var i=new FileReader;i.readAsDataURL(e),i.onload=function(){return t(i.result)},i.onerror=function(e){return n(e)}}))},del:function(e){var t=this;confirm("delete?")&&fetch("cache/local",{method:"put",headers:{type:"video/mp4",name:encodeURIComponent(e.title),delete:e.url}}).then((function(){var n=t.mediaTypes[t.mediaType].data.indexOf(e);n>-1&&t.mediaTypes[t.mediaType].data.splice(n,1)}))},upload:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if((i=e.target.files[0]).name&&i.size){n.next=4;break}return n.abrupt("return");case 4:return r=[new Date(i.lastModified)].map((function(e){return[e.getFullYear(),e.getMonth()+1,e.getDate()].join("/")})).join("")+" "+Math.ceil(i.size/1024/1024)+"M "+i.name,n.next=8,t.getFileBase64(i);case 8:o=n.sent,fetch("cache/local",{method:"put",body:o,headers:{type:i.type||"video/mp4",encode:"base64",name:encodeURIComponent(r),cat:t.search.trim()}}).then((function(e){return e.json()})).then((function(e){setTimeout((function(){t.loadLocal()}),10)}));case 10:case"end":return n.stop()}}),n)})))()},loadLocal:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(k.b)("list/cache/local").then((function(e){return e.json()})).then((function(t){var n;e.loading=0,t&&t.length&&(e.mediaTypes[e.mediaType].data.splice(0,e.mediaTypes[e.mediaType].data.length),e.mediaTypes[e.mediaType].data.length=0,(n=e.mediaTypes[e.mediaType].data).push.apply(n,Object(f.a)(t.map((function(e){return e.vid=e.url,e})))))}));case 3:t.next=8;break;case 5:t.prev=5,t.t0=t.catch(0);case 8:case"end":return t.stop()}}),t,null,[[0,5]])})))()},onFav:function(e,t,n){var i;e.stopPropagation(),2!=n&&(t.mediaType=n);for(var r=-1,o=0;o<O.length;o++)if(O[o].vid==t.vid){r=o;break}r>-1?O.splice(r,1):O.push(t),t.fav=this.favMap[t.vid]=r>-1?0:1,this.$set(this.favMap,t.vid,t.fav);var a=Array.from(new Set(O.map((function(e){return j[e.mediaType].n}))));this.mediaTypes[2].c.length=0,(i=this.mediaTypes[2].c).push.apply(i,Object(f.a)(a)),this.refresh++,S.a.set("my",O)},focusSearch:function(){this.search=""},changeMediaType:function(){var e=this,t=this.mediaTypes[this.mediaType].n,n=sessionStorage;switch(t){case"TV":Object(l.a)(regeneratorRuntime.mark((function t(){var i,r;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:i="group-title",e.loading=1,r=0;case 3:if(!(r<10)){t.next=20;break}return t.prev=4,t.delegateYield(regeneratorRuntime.mark((function t(){var r,o,a,s,c,u,l,d,p;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(k.b)("https://iptv-org.github.io/api/channels.json").then((function(e){return e.json()}));case 2:return r=t.sent,t.next=5,Object(k.b)("https://iptv-org.github.io/api/streams.json").then((function(e){return e.json()}));case 5:for(o=t.sent,a=[],s={},c={},u=0;u<o.length;u++)c[o[u].channel]=o[u];return(r=r.filter((function(e){return c[e.id]})).map((function(e){return e.url=c[e.id].url,e.vid=e.id,e[i]=e.categories.join(","),e.fav=0,e.title=e.name+"/"+e.languages,e}))).sort((function(e,t){return e[i].localeCompare(t[i])})),a.sort(),r.forEach((function(e){e[i]&&e[i].split(";").forEach((function(e){var t=e;s[t]=s[t]?s[t]+1:1,s[e]=s[e]?s[e]+1:1}))})),l=e.mediaTypes[e.mediaType].data,d=e.mediaTypes[e.mediaType].c,p=e.mediaTypes[e.mediaType].cnt,d.length=l.length=0,l.push.apply(l,Object(f.a)(r)),d.push.apply(d,a),Object.assign(p,s),n.tvtime=(new Date).getTime(),t.abrupt("return","break");case 23:case"end":return t.stop()}}),t)}))(),"t0",6);case 6:if("break"!==t.t0){t.next=9;break}return t.abrupt("break",20);case 9:t.next=17;break;case 11:return t.prev=11,t.t1=t.catch(4),t.next=16,e.sleep(2e3);case 16:r++;case 17:r++,t.next=3;break;case 20:e.loading=0;case 21:case"end":return t.stop()}}),t,null,[[4,11]])})))();break;case"MJ":if(0==this.mediaTypes[this.mediaType].data.length){if(this.loading)return;this.loading=1,Object(b.c)(null,{cmd:"urls",content:{p:"mj.json",cache:864e5}},(function(t){var n;e.loading=0,t.content&&t.content.length&&(n=e.mediaTypes[e.mediaType].data).push.apply(n,Object(f.a)(t.content.map((function(e){return{vid:e[0],title:e[1],urls:[],rate:e[2],date:e[4]}}))))}))}break;case"Radio":case"Custom":case"TTS":if(this.loading)return;this.loading=1,localStorage[this.mediaType+"time"];var i=this.mediaType,r="Custom"==t?this.config.m3u8Repo:"https://smlog.github.io/data/"+t.toLowerCase()+"s.json";Object(l.a)(regeneratorRuntime.mark((function n(){var o,a,s;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:o=0;case 2:if(!(o<10)){n.next=27;break}return n.prev=3,n.next=6,Object(k.b)(r).then((function(e){return e.json()})).then((function(t){if(e.loading=0,t.content&&t.content.length)return t.content.map((function(e){return e.vid=e.url,e.url=new URL(e.url,r).href,e}))}));case 6:if(!(a=n.sent)){n.next=15;break}return e.mediaTypes[i].data.length=0,(s=e.mediaTypes[e.mediaType].data).push.apply(s,Object(f.a)(a)),n.next=14,e.saveCache(t,a);case 14:localStorage[e.mediaType+"time"]=(new Date).getTime();case 15:return n.abrupt("break",27);case 18:return n.prev=18,n.t0=n.catch(3),n.next=23,e.sleep(2e3);case 23:o++;case 24:o++,n.next=2;break;case 27:e.loadCache(t).catch((function(){localStorage[t+"time"]=0})).then((function(n){var i;n.length?(e.mediaTypes[e.mediaType].data.length=0,(i=e.mediaTypes[e.mediaType].data).push.apply(i,Object(f.a)(n))):localStorage[t+"time"]=0})),e.loading=0;case 29:case"end":return n.stop()}}),n,null,[[3,18]])})))();break;case"lo":"12345"!=prompt("confirm:")&&(this.mediaType=0);break;case"Local":this.loadLocal()}},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.busy=e.pages>0&&e.page>=e.pages,e.busy||e.page++}),1e3)},searchList:function(){var e=this,t=this.search.toLowerCase().trim();if(1==this.mediaType){var n=this.videos;return this.curOpt1&&(n=n.filter((function(t){return t.src==e.curOpt1}))),this.done&&(n=n.filter((function(e){return e._d}))),t?n.filter((function(e){return e.d.indexOf(t)>-1||e.title.toLowerCase().indexOf(t)>-1})):n}var i=this.mediaTypes[this.mediaType].data,r=this.mediaTypes[this.mediaType].c2f,o=this.mediaTypes[this.mediaType].s||function(e,t){return e.title.toLowerCase().indexOf(t)>-1};return 2==this.mediaType?this.curOpt1&&(i=i.filter((function(t){return j[t.mediaType].n==e.curOpt1}))):this.curOpt1&&(i=i.filter((function(t){return t.src.indexOf(e.curOpt1)>-1}))),this.curOpt2&&r&&(i=i.filter((function(t){return r(t,e.curOpt2)}))),t?i.filter((function(e){return o(e,t)})):i},play:function(e,t,n,i){var r=this;this.curVideoId=e.vid,this.updateConfig2({mediaTypeText:j[this.mediaType].n});var o=1;if(4==this.mediaType&&(i=i||0,this.subIndex=i,e.urls.length?e.url=e.urls[i]:(o=0,Object(b.c)(null,{cmd:"urls",content:{p:"mj/"+e.vid,cache:864e5}},(function(o){var a;o.content&&o.content.length&&((a=e.urls).push.apply(a,Object(f.a)(o.content)),e.url=e.urls[i],d.a.$emit("videoId",parseInt(r.mediaType),e,t,n,i))})))),o){var a=this.config2.playList;a.splice.apply(a,[0,a.length].concat(Object(f.a)(this.pageList))),this.updateConfig2({mediaType:this.mediaType,playList:a,playIndex:n})}t&&this.$emit("selectItem",e)},toPage:function(e){e<1||e>this.pages||(this.page=e)}},mounted:function(){var e=this;if(location.href.indexOf("autoplay")>-1){document.addEventListener("click",(function t(){var n=e.searchList();n&&n.length&&(e.play(n[0],1,0),location.href.indexOf("fullscreen")>-1&&e.updateConfig({viewMode:0})),document.removeEventListener("click",t)}))}C.a.init({mainElement:this.$refs.container2,triggerElement:this.$refs.container2,onRefresh:function(){d.a.$emit("fresh","videos",1)}}),d.a.$on("end",(function(t,n,i,r){var o,a=e.searchList(),s=i,c=r;if(4!=e.mediaType){for(var u=n?-1:1,l=-1,d=i+u;d>=0&&d<a.length;d+=u)if(!e.config.isAudio||1!=e.mediaType||0!==a[d].audio&&"cnn"!=a[d].src){l=d;break}if(-1==l)for(var f=0;f<a.length;f++)if(!e.config.isAudio||1!=e.mediaType||0!==a[f].audio&&"cnn"!=a[f].src){l=f;break}-1==l&&(l=0),s=l}else{var p=a[s].urls.length;n?--c<0&&(c=p-1):++c>=p&&(c=0),s>0&&(o=a[s-1])}e.play(a[s],0,s,c,o)}))},watch:{mediaType:function(){this.page=1,this.busy=0,this.curOpt1=this.curOpt2=""},"$store.state.config.mj":function(e){j[4].disabled=!e}}},L=(n("7292"),Object(s.a)(P,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"list",staticStyle:{position:"relative","user-select":"none"}},[n("div",[5==e.mediaType?n("div",{staticClass:"op",staticStyle:{display:"flex","justify-content":"space-between"}},[n("div",{staticClass:"a-upload"},[n("input",{attrs:{name:"files",type:"file"},on:{change:function(t){return e.upload(t)}}}),e._v("Upload ")])]):e._e()]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.loading,expression:"loading"}],staticStyle:{"text-align":"center"}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],staticStyle:{"max-height":"400px",overflow:"auto"},attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"30"}},[n("div",{ref:"container2",staticClass:"result"},[n("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:t.vid||t.title,class:{_d:t._d,_c:t._c},staticStyle:{cursor:"pointer"}},[n("td",[n("div",{on:{click:function(n){n.stopPropagation(),e.play(t,1,i),e.updateConfig2({showList:0})}}},[[e.refresh?n("div",{class:{cur:e.curVideoId==t.vid,ni:!t.i,cached:t.cached}},[n("i",{staticClass:"num",on:{click:function(n){return n.stopPropagation(),e.onFav(n,t,e.mediaType)}}},[e._v(e._s(i+1))]),t.d?n("span",[e._v(e._s(t.d)+":")]):e._e(),n("span",[e._v(" "+e._s(e.curMediaType.title&&e.curMediaType.title(t)||t.title))]),t.duration?n("span",{staticClass:"src"},[e._v(e._s(("0"+parseInt(t.duration/60)).substr(-2))+":"+e._s(("0"+t.duration%60).substr(-2)))]):e._e(),t.src?n("span",{staticClass:"src"},[e._v(e._s(t.src))]):e._e(),t.org?n("span",{staticClass:"src"},[e._v(e._s(t.org))]):e._e(),e.mediaTypes[e.mediaType].del?n("span",{staticClass:"del",on:{click:function(n){return n.stopPropagation(),e.del(t,e.mediaType)}}},[e._v("x")]):e._e(),t.rate?n("span",[e._v(" rate:"+e._s(t.rate)+" ")]):e._e(),e.favMap[t.vid]?n("span",[e._v("*")]):e._e()]):e._e(),e.curVideoId==t.vid&&t.urls&&t.urls.length?n("div",e._l(t.urls,(function(r,o){return n("span",{key:o,class:{cur:e.subIndex==o},staticStyle:{margin:"8px"},on:{click:function(n){return n.stopPropagation(),e.play(t,1,i,o)}}},[e._v(e._s(o+1))])})),0):e._e()]],2)])])})),0)])]),n("div",{staticStyle:{"text-align":"right",background:"#444","padding-right":"5px"}},[n("select",{directives:[{name:"show",rawName:"v-show",value:e.opts1.length,expression:"opts1.length"},{name:"model",rawName:"v-model",value:e.curOpt1,expression:"curOpt1"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt1=t.target.multiple?n:n[0]},function(t){e.page=1}]}},[n("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts1,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)),e.cnt?n("span",[e._v("("+e._s(e.cnt[t+e.curOpt2])+")")]):e._e()])}))],2),n("select",{directives:[{name:"show",rawName:"v-show",value:e.opts2.length,expression:"opts2.length"},{name:"model",rawName:"v-model",value:e.curOpt2,expression:"curOpt2"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.curOpt2=t.target.multiple?n:n[0]},function(t){e.page=1}]}},[n("option",{attrs:{value:""}},[e._v("All")]),e._l(e.opts2,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)),e.cnt?n("span",[e._v("("+e._s(e.cnt[e.curOpt1+t])+")")]):e._e()])}))],2),n("select",{directives:[{name:"model",rawName:"v-model",value:e.mediaType,expression:"mediaType"}],on:{click:function(t){return e.ifneedload()},focus:function(t){return e.changeMediaType()},change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.mediaType=t.target.multiple?n:n[0]},function(t){e.changeMediaType(),e.ifneedload()}]}},[e._l(e.mediaTypes,(function(t,i){return[t.disabled?e._e():n("option",{key:i,domProps:{value:i}},[e._v(" "+e._s(t.n)+" ")])]}))],2),e._v(" Filter:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{focus:function(t){return e.focusSearch()},input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"155aeda5",null)).exports;var I={data:function(){return{show:0,showList:0,isHover:0}},created:function(){},computed:Object(r.a)({},Object(o.b)(["curItem","words"])),components:{Video:L},methods:{isM:function(){return null!=navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)},togglePlay:function(){d.a.$emit("togglePlay")},showPlayer:function(){d.a.$emit("showPlayer")}},mounted:function(){var e=this,t=function(t){e.$refs.mediaList&&(e.$refs.mediaList.contains(t.target)||e.$refs.mediaListText.contains(t.target)||(e.showList=!1)),e.$refs.listContainer&&!e.$refs.listContainer.contains(t.target)&&e.updateConfig2({showList:0})},n=document;n.addEventListener("click",t),n.addEventListener("touchend",t)},watch:{}},R=(n("3805"),Object(s.a)(I,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"listContainer",staticClass:"vb_1 is-fixed-bottom is-hidden-desktop",class:{hover:e.dockList||e.isM()||e.isHover,isActivedTran:e.config.activeTran},style:{opacity:0!=e.config.viewMode||e.isHover?1:.01},on:{mouseenter:function(t){e.isHover=1,e.updateConfig2({showList:1})},mouseleave:function(t){e.isHover=0},click:function(t){return e.updateConfig2({showList:1})},touchmove:function(t){return e.updateConfig2({showList:1})},touchstart:function(t){return e.updateConfig2({showList:1})}}},[n("div",{ref:"mediaList",staticClass:"listCon"},[n("Video",{directives:[{name:"show",rawName:"v-show",value:e.showList,expression:"showList"}],on:{selectItem:function(t){e.showList=0,e.updateConfig2({showPlay:!0})}}})],1),n("div",{staticClass:"columns has-text-centered is-mobile is-size-7 is-marginless is-paddingless",staticStyle:{"user-select":"none"},attrs:{id:"player_ctrl"}},[e.shownews?n("div",{staticClass:"column is-marginless",staticStyle:{"flex-grow":"0.1"}},[n("span",{on:{click:function(t){return e.updateConfig2({showPlay:!e.config2.showPlay})}}},[e._v("Read")])]):e._e(),n("div",{ref:"mediaListText",staticClass:"column is-marginless"},[n("span",{staticClass:"button",class:{play:!e.config2.playingM,pause:e.config2.playingM},staticStyle:{"margin-right":"10px","margin-left":"10px"},on:{click:function(t){return e.togglePlay()}}}),n("span",{ref:"showListBt",staticStyle:{"flex-grow":"1"},on:{click:function(t){e.showList=!e.showList}}},[n("font-awesome-icon",{attrs:{icon:["fas","ellipsis"]}}),e._v(" "+e._s(e.config2.title)+" ")],1)])])])}),[],!1,null,"196c07fa",null)).exports,M=n("611b"),N=n.n(M),W=(n("c78c"),{components:{vdr:N.a},mounted:function(){this.y=.865*(h()(".videoCon").height()||9*Math.min(h()(window).width(),h()(window).height())/16),this.width=.8*(h()(".videoCon").width()||h()(window).width()),this.x=.1*(h()(".videoCon").width()||h()(window).width()),this.height=16*(h()(".videoCon").height()||Math.min(h()(window).width(),h()(window).height()))/232},data:function(){return{width:200,height:16,x:0,y:0}},methods:{onResize:function(e,t,n,i){this.x=e,this.y=t,this.width=n,this.height=i},onDrag:function(e,t){this.x=e,this.y=t}}}),E=Object(s.a)(W,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{height:"100%",width:"100%",position:"absolute",top:"0"}},[n("vdr",{staticStyle:{background:"rgba(0, 0, 0, 1)",border:"none"},attrs:{w:e.width,h:e.height,x:e.x,y:e.y,parent:!0,debug:!1,isConflictCheck:!0,snap:!0,snapTolerance:20}})],1)}),[],!1,null,null,null).exports,z=(n("fda2"),function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[e._l(e.config.playerNum,(function(t){return n("video",{key:t,ref:"videoPlayer",refInFor:!0,staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{"x5-playsinline":"",preload:"auto","webkit-playsinline":"true",playsinline:"true","x-webkit-airplay":"allow",airplay:"allow",controls:"",poster:"",autoplay:"false",title:e.hovering?"":e.title,id:t},on:{mouseover:function(t){e.hovering=!0},mouseout:function(t){e.hovering=!1}}})})),n("audio",{directives:[{name:"show",rawName:"v-show",value:!1,expression:"false"}],ref:"keeplive",attrs:{controls:"",src:e.audio},on:{ended:function(t){return e.keepOnLive()}}})],2)}),U=n("3835"),F=n("f0e2"),q=(n("a151"),n("2e59"),n("94b9"),n("6b63")),D=n.n(q);n("6856")(F.a),i.a.prototype.$video=F.a;var V={props:["source","cc","title","mediaItem","timeupdate","preloadNextUrl"],data:function(){return{audio:D.a,maxBitRate:!1,curPlayIndex:0,activeIndex:0,nextIndex:1,debugStr:"",hovering:!1,players:null,options:{inactivityTimeout:5e3,userActive:2e3,userActions:{hotkeys:function(e){88===e.which&&this.pause(),89===e.which&&this.play()}},type:"application/x-mpegURL",src:"",preload:!0,autoplay:!1,isLoop:!1,playsinline:!0,controls:"progress,current,durration,volume",crossOrigin:!1,textTrackDisplay:!0,playbackRates:[.5,.6,.7,.8,.9,1],fill:!0,fluid:!0,plugins:{airPlay:{addButtonToControlBar:!0}},html5:{vhs:{overrideNative:!1},hls:{enableLowInitialPlaylist:!0,smoothQualityChange:!0,overrideNative:!1},nativeVideoTracks:!0,nativeAudioTracks:!0}}}},created:function(){},computed:{},methods:{loopPlay:function(){this.players[this.activeIndex].currentTime(0),this.players[this.activeIndex].play()},getCurrentPlayerUrl:function(){var e=this.players.filter((function(e){return e.actived}));if(e.length>0)return e[0].src()},keepOnLive:function(){this.config.isAudio&&this.playNextVideo()},bufferNext:function(e){var t=this;Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,t.getNextPlayUrl(t.curPlayIndex);case 2:i=n.sent,r=Object(U.a)(i,2),o=r[0],(a=r[1])&&(e.idx=o,t.setMediaUrl(a,e),e.muted(!0),e.play());case 7:case"end":return n.stop()}}),n)})))()},isStuck:function(e){if(e.currentTime()>e.duration())return!0;var t=e.buffered();return t.length>0&&t.end(t.length-1)>0&&e.currentTime()>t.end(t.length-1)},getNextPlayUrl:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i=e,r=t.config2.playList,o=0;case 3:if(!(o<r.length)){n.next=23;break}return n.prev=4,i+=1,i=Math.min(r.length,i)==r.length?0:i,a=r[i],t.curPlayIndex=i,n.t0=i,n.next=12,t.getItemUrl(a);case 12:return n.t1=n.sent,n.abrupt("return",[n.t0,n.t1]);case 16:return n.prev=16,n.t2=n.catch(4),n.abrupt("continue",20);case 20:o++,n.next=3;break;case 23:return n.abrupt("return",[0,0]);case 24:case"end":return n.stop()}}),n,null,[[4,16]])})))()},toInt:function(e){try{return parseInt(e)}catch(e){return""}},playListVideo:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a,s,c,u,l,f,p;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(e<0)){n.next=2;break}return n.abrupt("return");case 2:if(i=t.players,r=t.config2.playList,o=r[e]){n.next=7;break}return n.abrupt("return");case 7:return a="",n.prev=9,n.next=12,t.getItemUrl(o);case 12:a=n.sent,navigator.mediaSession.metadata=new window.MediaMetadata({title:o.title,artist:t.config2.mediaTypeText,album:t.config2.mediaTypeText,artwork:[{src:"icon.png",sizes:"32x32",type:"image/png"}]}),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(9);case 19:a||t.playNextVideo(),t.activeIndex=i.map((function(e){return e.url})).indexOf(a),-1==t.activeIndex&&(t.activeIndex=0,t.curPlayIndex=e,i.map((function(e){return e.idx=-1})),i[t.activeIndex].idx=e),s=i[t.activeIndex],window.players=t.players,document.querySelectorAll(".video-js")[t.activeIndex].style.display="",c=0;case 27:if(!(c<t.players.length)){n.next=52;break}if(c==t.activeIndex){n.next=49;break}if(!(t.players[c].idx&&t.players[c].idx-e>0&&t.players[c].idx-e<t.players.length)){n.next=32;break}return n.abrupt("continue",49);case 32:return n.next=34,t.getNextPlayUrl(t.curPlayIndex);case 34:if(u=n.sent,l=Object(U.a)(u,2),f=l[0],!(p=l[1])){n.next=48;break}return t.players[c].idx=f,t.players[c].muted(!0),n.next=45,t.setMediaUrl(p,t.players[c]);case 45:t.players[c].muted(!0),t.players[c].actived=!1,t.players[c].play();case 48:document.querySelectorAll(".video-js")[c].style.display=t.config.dev?"":"none";case 49:c++,n.next=27;break;case 52:return t.$refs.keeplive.style.display=t.config.dev?"":"none",t.$emit("initPlayer",s),window.player=s,d.a.$emit("end",0,0,s.idx-1),s.muted(!1),s.actived=!0,s.loopCounts=0,n.next=61,t.setMediaUrl(a,s);case 61:t.$refs.keeplive.inited||(t.$refs.keeplive.play(),t.$refs.keeplive.inited=!0);try{s.paused()&&s.currentTime(0),s.play()}catch(e){}case 63:case"end":return n.stop()}}),n,null,[[9,16]])})))()},getItemUrl:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object($.b)(e,t.config2.mediaType);case 2:if(0===t.config.isAudio){n.next=25;break}if(n.prev=4,null!=e.audio){n.next=14;break}return n.prev=6,n.next=9,Object(k.c)(e);case 9:n.next=14;break;case 11:n.prev=11,n.t0=n.catch(6);case 14:if(!t.config.isAudio){n.next=19;break}if(e.audio){n.next=18;break}throw"no audio";case 18:return n.abrupt("return",e.audio+"?_="+t.config2.mediaType);case 19:n.next=25;break;case 21:throw n.prev=21,n.t1=n.catch(4),n.t1;case 25:return n.abrupt("return",e.url);case 26:case"end":return n.stop()}}),n,null,[[4,21],[6,11]])})))()},setMediaUrl:function(e,t){var n=this;return Object(l.a)(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(t.checkTime=0,t.timer&&clearTimeout(t.timer),t.timer=setTimeout((function(){t.actived&&n.playNextVideo()}),5e3),t.endTimer&&clearTimeout(t.endTimer),t.waitTimes=0,t.url!==e){i.next=8;break}return i.abrupt("return");case 8:if(!e){i.next=19;break}if(r="audio/mpeg",e.indexOf(".m3p")>-1?r="audio/mp3":e.indexOf(".m4a")>-1?r="audio/mp4":e.indexOf(".mp4")>-1?r="video/mp4":e.indexOf("m3u8")>-1?r="application/x-mpegURL":e.indexOf(".mpd")>-1&&(r="application/dash+xml"),!(e.indexOf("/cache/local")>-1)){i.next=17;break}return i.next=15,fetch(e).then((function(e){return e.blob()})).then((function(e){t.src([{src:window.URL.createObjectURL(e),type:r}])}));case 15:i.next=18;break;case 17:t.src([{src:e,type:r}]);case 18:t.url=e;case 19:case"end":return i.stop()}}),i)})))()},playNextVideo:function(e){if(e||!this.players[this.activeIndex].paused()){if(!e&&this.config.isAudio&&!this.players[this.activeIndex].paused()){try{this.$refs.keeplive.currentTime=0,this.$refs.keeplive.play()}catch(e){}if(!(this.players[this.activeIndex].readyState()<3)){try{this.players[this.activeIndex].play()}catch(e){}return}try{this.players[this.activeIndex].play()}catch(e){}this.$refs.keeplive.tryTime||(this.$refs.keeplive.tryTime=(new Date).getTime());var t=((new Date).getTime()-this.$refs.keeplive.tryTime)/1e3,n="keep live["+t+"] "+new Date;if(h()(this.$refs.keeplive).attr("title",n),t<10)return;this.$refs.keeplive.tryTime=0}var i=this.players.map((function(e,t){return[t,e.idx]})).sort((function(e,t){return e[1]-t[1]}));if(i.length<=1)d.a.$emit("end",0,0,this.players[this.activeIndex].idx);else{if(this.nextIndex=i[i.length>1?1:0][0],this.config.isLoop>0&&this.config.isLoop<4)switch(this.config.isLoop){case 1:return this.loopPlay();case 2:break;case 3:if(this.players[this.activeIndex].loopCounts++,this.players[this.activeIndex].loopCounts<this.config.loopCount)return this.loopPlay()}else if(4!=this.config.isLoop){var r=[this.activeIndex,this.nextIndex];this.nextIndex=r[0],this.activeIndex=r[1]}this.players[this.nextIndex].actived=!1,this.players[this.activeIndex].actived=!0,this.players[this.activeIndex].loopCounts=this.players[this.nextIndex].loopCounts=0;var o=this.players[this.activeIndex];o.currentTime(0),o.muted(!1),this.players[this.nextIndex].muted(!0),document.querySelectorAll(".video-js")[this.nextIndex].style.display=this.config.dev?"":"none",document.querySelectorAll(".video-js")[this.activeIndex].style.display="",document.querySelectorAll(".video-js video").forEach((function(e){return e.style.display=""})),this.$refs.keeplive.style.display=this.config.dev?"":"none",o.play(),this.$emit("initPlayer",o),d.a.$emit("end",0,0,this.players[this.activeIndex].idx-1)}}},init:function(){var e=this,t=this;this.players||(this.players=this.$refs.videoPlayer.map((function(n,i){var r=e.player=e.$video(n,e.options,(function(){r.index=i;var e=this.textTracks(),n=function(){if(r.actived)for(var n=function(n){var i=e[n];if("showing"==i.mode&&(i.cuechange||(i.addEventListener("cuechange",(function(){r.actived&&"captions"==i.kind&&i.activeCues&&i.activeCues[0]&&t.$emit("cuechange",i.activeCues[0],i)})),i.cuechange=1),"captions"==i.kind))return i.activeCues&&i.activeCues[0]&&t.$emit("cuechange",i.activeCues[0],i),"break"},i=0;i<e.length;i++){if("break"===n(i))break}};["change","removtrack","addtrack"].forEach((function(t){e.addEventListener(t,n)})),e.addEventListener("addtrack",(function(){setTimeout((function(){for(var n=0;n<e.length&&("captions"==e[n].kind&&(e[n].mode=t.cc&&"new word"==e[n].label&&r.actived?"showing":"disabled"),"new word"!=e[n].label);n++);}),5e3)}))}));return r.on("loadeddata",(function(){0==e.config.isAudio&&setTimeout((function(){if(e.config.maxBitRate){for(var t=r.qualityLevels(),n=0,i=null,o=0;o<t.length;o++){var a=t[o];a.enabled=!1,a.bitrate>n&&(n=a.bitrate,i=a)}i&&(i.enabled=!0)}}),0),setTimeout((function(){for(var e=r.textTracks(),t=0;t<e.length;t++)r.actived&&"new word"===e[t].label||(e[t].mode="disabled")}),100),r.playbackRate(t.config.playbackrate),t.config.custCue&&setTimeout((function(){h()("video track").attr("kind","metadata")}),3e3)})),r.on("timeupdate",(function(t){if(r.timer&&clearTimeout(r.timer),!r.actived)return setTimeout((function(){!r.actived&&r.pause()}),0),r.duration()===1/0?void r.pause():void 0;r.checkTime=r.currentTime(),r.timer=setTimeout((function(){r.paused()||e.toInt(r.checkTime)!==e.toInt(r.currentTime())||e.playNextVideo(1),r.timer=0}),1e4),e.$emit("timeupdate",t,r)})),r.on("useractive",(function(){e.updateConfig2({touchstart:1})})),r.on("userinactive",(function(){e.updateConfig2({touchstart:0})})),r.on("stalled",(function(){r.actived&&e.config.isAudio&&e.playNextVideo()})),r.on("suspend",(function(){r.actived&&e.config.isAudio&&e.playNextVideo()})),r.on("waiting",(function(){r.actived&&e.config.isAudio&&setTimeout((function(){e.playNextVideo()}),2e3)})),r.on("ended",(function(){r.actived&&(r.endTimer&&clearTimeout(r.endTimer),e.playNextVideo(1))})),r.on("error",(function(t){r.actived?e.playNextVideo():e.bufferNext(r)})),r.on("pause",(function(){r.actived&&(e.$emit("pause"),d.a.$emit("pause"),e.updateConfig2({playingM:0}),r.endTimer&&clearTimeout(r.endTimer))})),r.on("play",(function(){r.actived&&(e.$emit("play"),d.a.$emit("play"),e.updateConfig2({playingM:1}))})),r.on("playing",(function(){r.actived&&r.endTimer&&clearTimeout(r.endTimer)})),r.on("ratechange",(function(){r.actived&&setTimeout((function(){r.currentTime()>1&&""+r.playbackRate()!=""+e.config.playbackrate&&e.updateConfig({playbackrate:r.playbackRate()})}),500)})),r})),this.$emit("initPlayer",this.players[0]))}},mounted:function(){var e=this;this.$nextTick((function(){setTimeout((function(){e.init()}),1e3)}))},watch:{"$store.state.config.isAudio":{handler:function(){var e=this;setTimeout((function(){e.playListVideo(e.config2.playIndex)}),800)}},"$store.state.config2.playIndex":{handler:function(e){this.playListVideo(e)}},"$store.state.config.playbackrate":{handler:function(e){this.players&&this.players.length&&this.players.map((function(t){t.playbackRate(e)}))}},"$store.state.config.dev":{handler:function(e){var t=this;setTimeout((function(){t.$refs.videoPlayer&&t.$refs.videoPlayer.filter((function(e){return!e.actived})).forEach((function(t){return t.style.display=e?"":"none"})),t.$refs.keeplive.style.display=e?"":"none"}),100),setTimeout((function(){h()(window).resize()}),100)}},source:function(){this.init()},title:function(){document.title=this.title}}},H=(n("3439"),Object(s.a)(V,z,[],!1,null,"5ff64837",null)).exports,B=n("5806"),J={props:["source","cc","isLive"],data:function(){return{alioptions:{isLive:0,useH5Prism:1,playsinline:1,useHlsPluginForSafari:1}}},created:function(){},computed:{},components:{VueAliplayerV2:n.n(B).a},updated:function(){var e=this;this.$nextTick((function(){e.init()}))},methods:{init:function(){this.alioptions.isLive=this.isLive},ended:function(){this.$emit("ended")}},mounted:function(){var e=this;this.$nextTick((function(){e.init()}))},watch:{source:function(){this.init()}}},X=(n("6863"),Object(s.a)(J,(function(){var e=this,t=e.$createElement;return(e._self._c||t)("vue-aliplayer-v2",{ref:"VueAliplayerV2",staticClass:"video-js vjs-default-skin vjs-big-play-centered vjs-16-9",attrs:{source:e.source,options:e.alioptions,isLive:e.isLive},on:{ended:e.ended}})}),[],!1,null,"25e888d1",null)).exports,Y={data:function(){return{custCue:"",isAliPlayer:0,isHide:0,cc:0,loopCount:0,cueIndex:0,item:{},nextItem:{},isCc:0,mediaType:1,videoUrl:"",preloadNextUrl:"",show:0,url:"",top:"0%",player:null,videos:null,videoId:"",videoIndex:0,text:"",scrollTimer:1,title:"",isAutoScroll:!0,playing:0,sps:[],isMask:0,av:1,isTouch:0}},created:function(){},computed:Object(r.a)(Object(r.a)({},Object(o.b)(["showApp","curItem","words","seeCurWords","nextUrl"])),{},{preload:function(){return this.$store.state.config.preload},dict:function(){return this.$store.state.config.dict}}),components:{PlayerControllers:R,VideoJsPlayer:H,AliPlayer:X,ResizeMask:E},methods:{selectVideo:function(e,t,n,i,r){var o=this;n&&(this.show=1),location.search.indexOf("hidePlayer=1")>-1&&(this.show=0),this.videoId=t.vid,this.title=t.title,this.item=t,this.videoIndex=i,this.subIndex=r,this.mediaType=e,this.$store.commit("add2CurWords",[[],1]),this.onCuesChangeSync2=0,this.text="",this.updateConfig2({title:t.title}),0==this.mediaType?(this.videoUrl=this.url=t.url,this.av=0):Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,o.loadVideo(t,e);case 3:n.next=9;break;case 5:n.prev=5,n.t0=n.catch(0),o.end();case 9:case"end":return n.stop()}}),n,null,[[0,5]])})))()},touchstartCustCue:function(){this.player&&this.player.pause(),d.a.touchstartCustCue=1},resize:function(){setTimeout((function(){h()(window).resize()}),200)},modeText:function(){switch(this.config.isAudio){case 0:return"Video";default:return"Audio"}},loopText:function(){switch(this.config.isLoop){case 0:return"Seq";case 1:return"LL";case 2:return"LSeq";case 3:return"LSeq"+this.loopCount;case 4:return"Loop"}},onTouch:function(){var e=this;clearTimeout(this.isTouch),this.isTouch=setTimeout((function(){clearTimeout(e.isTouch),e.isTouch=0}),3e3)},initPlayer:function(e){this.player=e},clickUrl:function(){var e=this.$refs.jsplayer.getCurrentPlayerUrl();open(e)},tryCaption2TTV:function(){var e,t=this,n={};this.onCuesChangeSync2=function(i,r){if("showing"==r.mode&&"captions"==r.kind){e!=r&&(n={},h()(t.$refs.lynx).html("")),e=r;for(var o=r.cues,a=[],s=o.length-1;s>=0;s--){var c=o[s];if(n[""+c.startTime])break;n[""+c.startTime]=1;var u=parseInt(c.startTime),l=parseInt(c.endTime),d='<span begin="'.concat(u,'" end="').concat(l,'">').concat(t.textAddNewMarks(t.words,c.text,!1).replace(/^(\s*[A-Z][^A-Z]+)/g,"<br />$1"),"</span> ");a.unshift(d)}a.length>0&&(t.cues=h()(t.$refs.lynx).append(a.join("\n")).find("span"))}}},LseqNext:function(e,t){var n=this;this.config.isLoop>0&&this.config.isLoop<4&&t&&t.duration()-t.currentTime()<1&&!this.loadingNext&&(this.loadingNext=1,setTimeout((function(){2==n.config.isLoop?(n.loopCount=0,n.next()):3==n.config.isLoop?(n.loopCount++,n.loopCount>=n.config.loopCount&&(n.loopCount=0,n.next())):1==n.config.isLoop&&(n.loopCount=0,n.player.pause(),n.next()),setTimeout((function(){n.loadingNext=0}),1e4)}),1e3*(t.duration()-t.currentTime())))},setUpScroll:function(e){var t=this;if(clearInterval(this.scrollTimer),this.onCuesChangeSync=0,this.isAutoScroll&&!e)if(this.cc){if(this.player){this.cueIndex=0;var n=h()(this.$refs.text);this.cues=n.find("span"),n.find("span").each((function(){h()(this).text().trim()||h()(this).attr("skip",1)})),this.onCuesChangeSync=function(){var e=t.cues,i=parseInt(t.player.currentTime());if(t.cueIndex>=e.length&&(t.cueIndex=0,n.find("span.cur").removeClass("cur"),0==e.length&&t.setTimeout(t.setUpScroll,100)),t.cueIndex>0){var r=e.eq(t.cueIndex);if(r.addClass("cur"),t.cueIndex<4&&e.eq(1).addClass("cur"),t.dict){var o=r.find(".newWord").text().trim();o&&(t.title=o)}r.attr("skip")||t.scrollMid(r,n),t.cueIndex++}else for(var a=0;a<e.length;a++){var s=e.eq(a);if(s&&s.attr("begin")<=i&&s.attr("end")>i){if(n.find("span.cur").removeClass("cur"),s.addClass("cur"),t.dict){var c=s.find(".newWord").text().trim();c&&(t.title=c)}t.cueIndex=a+1,t.scrollMid(s,n);break}}}}}else{var i=h()(this.$refs.text),r=h()(this.$refs.lynx),o=0;window.cancelAnimationFrame(window.requestAnimationFrame2),window.requestAnimationFrame2=window.requestAnimationFrame((function(){i.animate({scrollTop:-i.height()},100)})),this.scrollTimer=setInterval((function(){var e=0,n=i.height(),a=r.height()-n,s=(a+n/2)/t.player.duration(),c=Math.ceil(2*s);t.player.currentTime()!=o&&(e=i.scrollTop()+c,window.cancelAnimationFrame(window.requestAnimationFrame3),window.requestAnimationFrame3=window.requestAnimationFrame((function(){i.animate({scrollTop:e},100)})),o=t.player.currentTime()),t.top=Math.floor(100*Math.min(1,1*e/a))+"%"}),2e3)}},bg:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){Object(b.c)(null,{cmd:"bg",title:e.title},(function(e){e&&t()}))})));case 1:case"end":return t.stop()}}),t)})))()},markNewWords:function(e){var t=this.words;this.text=this.textAddNewMarks(t,e.replace(/\n/g,"<br />"))},textAddNewMarks:function(e,t,n){var i=this,r=Object(w.b)(e,t,n);return setTimeout((function(){i.$store.commit("add2CurWords",[r[1]])}),1e3),r[0]},ajustTextHeight:function(){this.$refs.text.style.top=(h()(this.$refs.videoCon).is(":hidden")?0:h()(this.$refs.videoCon).height())+h()(this.$refs.bts).height()+"px"},next:function(e){var t=this;!e&&this.config.isLoop<2&&this.seeCurWords?Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e){d.a.$once("finishPlayCurWords",(function(){e()})),d.a.$emit("playCurWords")}));case 2:t.end(0);case 3:case"end":return e.stop()}}),e)})))():this.end(0)},prev:function(){this.end(1)},error:function(){var e=this;setTimeout((function(){e.end(0)}),1e4)},end:function(e){this.cueIndex=0,this.setUpScroll(!0),this.$store.commit("nextUrl",""),d.a.$emit("end",this.videoId,e,this.videoIndex,this.subIndex,this.config.isAudio)},cuechange:function(e,t){var n=this;if(this.onCuesChangeSync2&&this.onCuesChangeSync2(e,t),this.onCuesChangeSync&&this.onCuesChangeSync(e,t),e&&this.config.custCue){var i=e.endTime-e.startTime;this.custCue=e.text,this.cueTimer&&clearTimeout(this.cueTimer),this.cueTimer=setTimeout((function(){n.player.paused()||(n.custCue=""),n.cueTImer=0}),1e3*(5+i))}},init:function(){var e=this;h()(this.$refs.top).scroll((function(){e.ajustTextHeight()}))},trimDup:function(e){for(var t=[],n=e.split("\n"),i=0;i<n.length-1;i++){if(n[i].trim())for(var r=i+1;r<n.length;r++)0==n[r].indexOf(n[i])&&(i=r);t.push(n[i])}return(t=t.map((function(e,t){return 0==t?e:e.toLowerCase()}))).join("\n").split(/(?=\d{2}:\d{2}:\d{2}.\d{3} --> \d{2}:\d{2}:\d{2}.\d{3})/).map((function(e,t,n){return 0==t||t==n.length-1?e:e.replace(/\d{2}:\d{2}:\d{2}.\d{3}\n/,n[t+1].split(" --\x3e")[0]+"\n")})).join("")},loadTTV:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a,s,c,u,l,d,f,p,h,m,g,v,y,w;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(t.cc=0,i="",r="",t,!e){n.next=66;break}if(o="",0!=e.indexOf("http")){n.next=17;break}return n.prev=7,n.next=10,fetch(e).then((function(e){return e.text()}));case 10:if(0==(o=n.sent).indexOf("<?xml")){for(o=o.replace(/\n/g,""),a=/<p begin="(.*?)" end="(.*?)".*?>(.*?)<\/p>/g,c="WEBVTT\n\n",u=-1;null!=(s=a.exec(o));)-1==u&&(u=12==s[1].length?0:1),c+=u?"".concat(s[1],"0 --\x3e ").concat(s[2],"0\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n"):"".concat(s[1]," --\x3e ").concat(s[2],"\n").concat(s[3].replace(/<.*?>\s*/g," ").trim(),"\n\n");o=c,t.cc=1}n.next=17;break;case 14:n.prev=14,n.t0=n.catch(7);case 17:if(l=o.match(/[A-Z]/g),d=o.match(/[a-z]/gi,""),t.cc=0,!(l&&d&&l.length/d.length>.4)){n.next=57;break}(f=o.split(/\n+/).filter((function(e){return 2!=e.indexOf(":")}))).shift(),p=[],h=0;case 25:if(!(h<f.length)){n.next=54;break}m=f[h].trim(),g=h+1;case 28:if(!(g<f.length)){n.next=38;break}if(!(f[g].trim().indexOf(m)>-1)){n.next=34;break}return m=f[h=g].trim(),n.abrupt("continue",35);case 34:return n.abrupt("break",38);case 35:g++,n.next=28;break;case 38:v=p.length,y=v-1;case 41:if(!(y>=0&&v>=p.length-4)){n.next=49;break}if(w=p[y],0!=m.indexOf(w)){n.next=46;break}return v=y,n.abrupt("continue",46);case 46:y--,n.next=41;break;case 49:p.length=v,p.push(m);case 51:h++,n.next=25;break;case 54:o=p.join(" ").toLowerCase().replace(/\s+/," "),n.next=58;break;case 57:t.cc=1;case 58:if(i=o,!t.isCc||t.cc){n.next=63;break}return t.next(),n.abrupt("return",1);case 63:i.trim()&&(i=t.textAddNewMarks(t.words,i,!1)),t.cc?(r=t.trans(i),t.text="",t.text=t.caption2Text(i)):(o=o.replace(/\.[\s]+/g,".\n"),t.markNewWords(o)),t.$nextTick((function(){setTimeout((function(){return t.setUpScroll()}),100)}));case 66:return setTimeout((function(){for(var e=t.player,n=e.textTracks(),o=0;o<n.length;o++)"new word"==n[o].label&&e.removeRemoteTextTrack(n[o]);if(r.trim()){var a=new Blob([i]),s=URL.createObjectURL(a);e.addRemoteTextTrack({kind:"captions",label:"new word",mode:"showing",srclang:"zh",default:"true",src:s},!0)}}),0),n.abrupt("return",0);case 68:case"end":return n.stop()}}),n,null,[[7,14]])})))()},caption2Text:function(e){return"<span>"+e.replace(/^WEBVTT[\s\n]*/,"").replace(/(\d{2}):(\d{2}):(\d{2}).(\d{3}) --> (\d{2}):(\d{2}):(\d{2}).(\d{3})/g,(function(e,t,n,i,r,o,a,s){return'<span begin="'.concat(60*n+parseInt(i),'" end="').concat(60*a+parseInt(s),'">')})).replace(/<span/g,"</span><span")},trans:function(e){var t=h()("<div>"+e+"</div>");return t.find("em.newWord").replaceWith((function(){var e=h()(this),t=e.find(".newWorda").text(),n=e.find(".newWordb").text();return"<i>".concat(t,"</i><b>").concat(n,"</b>")})),t.html().replace(/&gt;/g,">")},loadVideo:function(e,t,n){var i=this;return Object(l.a)(regeneratorRuntime.mark((function r(){return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(e.vid){r.next=3;break}return r.abrupt("return");case 3:return r.next=5,Object($.b)(e,t,n);case 5:if(!(i.show&&i.config.isAudio<2)){r.next=18;break}if(r.prev=7,i.isAliPlayer){r.next=11;break}return r.next=11,i.loadTTV(e.cc);case 11:r.next=16;break;case 13:r.prev=13,r.t0=r.catch(7);case 16:e.cc||(i.cc=2,setTimeout((function(){i.tryCaption2TTV()}),0)),i.config.custCue&&setTimeout((function(){h()("video track").attr("kind","metadata")}),3e3);case 18:setTimeout((function(){i.ajustTextHeight()}),1e3);case 19:case"end":return r.stop()}}),r,null,[[7,13]])})))()},scrollMid:function(e,t){if(e&&e.offset&&e.offset()){var n=e.offset().top+t[0].scrollTop-t.offset().top-t.height()/2;window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame((function(){h()(t).animate({scrollTop:n},1e3)}))}}},mounted:function(){var e=this,t=this;this.init(),document.body.addEventListener("click",(function(){e.config.bgkeeplive&&Object(x.d)(1),e.updateConfig2({touchstart:1}),e.timer&&clearTimeout(e.timer),e.timer=setTimeout((function(){e.updateConfig2({touchstart:0}),e.timer=0}),2e3)})),d.a.$on("NEXT",(function(){e.next(1)})),d.a.$on("PRE",(function(){e.prev(1)})),d.a.$on("videos",(function(t){e.videos=t})),d.a.$on("togglePlay",(function(){e.config2.playingM?e.player.pause():e.player.play()})),d.a.$on("showPlayer",(function(){e.show=!e.show})),h()(window).on("resize",(function(){t.ajustTextHeight()}))},watch:{"$store.state.config2.playIndex":{handler:function(e){var t=this.config2.playList[e];this.show=1,this.selectVideo(this.config2.mediaType,t,0,e)}},videoUrl:function(e){this.updateConfig2({videoUrl:e})},showApp:function(e){var t=this;e?this.player.paused()||(this.player.pause(),this.isTranPause=1):this.isTranPause&&(this.isTranPause=0,this.player.play()),!e&&d.a.touchstartCustCue&&(setTimeout((function(){t.player.currentTime(Math.max(0,t.player.currentTime()-t.config.backplay)),t.emit("togglePlay")}),1e3),d.a.touchstartCustCue=0)},isHide:function(){var e=this;setTimeout((function(){e.ajustTextHeight()}),0)},isAutoScroll:function(){this.setUpScroll()},show:function(e){e&&setTimeout((function(){h()(window).resize()}),100)},"$store.state.config.viewMode":{handler:function(){this.resize()}}}},Z=(n("0f77"),Object(s.a)(Y,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticStyle:{width:"100%",height:"100%"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.show,expression:"show"}],ref:"top",staticClass:"top",on:{click:function(t){return e.onTouch()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi,expression:"!config.hi"}],ref:"videoCon",staticClass:"videoCon",staticStyle:{position:"relative"}},[n("div",{directives:[{name:"show",rawName:"v-show",value:!e.config.hi&&e.config.custCue&&e.config.custCue<3&&e.custCue,expression:"!config.hi && config.custCue && config.custCue < 3 && custCue"}],staticClass:"custCue"},[n("div",{staticStyle:{display:"flex","justify-content":"center"}},[n("div",{staticStyle:{background:"rgba(0, 0, 0, 0.5)"},domProps:{innerHTML:e._s(e.custCue)},on:{touchstart:function(t){return e.touchstartCustCue()},click:function(t){return t.preventDefault(),t.stopPropagation(),e.touchstartCustCue()}}})])]),n("font-awesome-icon",{staticClass:"pbtn",staticStyle:{left:"0"},attrs:{icon:["fas","arrow-left"]},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.emit("PRE")},mouseenter:function(t){return e.updateConfig2({touchstart:1})},mouseleave:function(t){return e.updateConfig2({touchstart:0})}}}),n("font-awesome-icon",{staticClass:"pbtn",staticStyle:{right:"0"},attrs:{icon:["fas","arrow-right"]},on:{click:function(t){return t.stopPropagation(),t.preventDefault(),e.emit("NEXT")},mouseenter:function(t){return e.updateConfig2({touchstart:1})},mouseleave:function(t){return e.updateConfig2({touchstart:0})}}}),e.isAliPlayer?e._e():n("div",[n("VideoJsPlayer",{ref:"jsplayer",attrs:{source:e.videoUrl,preloadNextUrl:e.preloadNextUrl,cc:e.cc,title:e.title,mediaItem:e.item},on:{cuechange:e.cuechange,initPlayer:e.initPlayer,ended:e.next,timeupdate:e.LseqNext,error:e.error}})],1),e.isAliPlayer?n("div",{staticClass:"ali"},[n("AliPlayer",{attrs:{source:e.videoUrl,isLive:3==e.mediaType},on:{ended:e.next}})],1):e._e(),e.isMask?n("ResizeMask"):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:(e.config.viewMode<0||e.config.hi)&&(e.isMask<2||e.isTouch),expression:"(config.viewMode < 0 || config.hi) && (isMask < 2 || isTouch)"}],staticStyle:{position:"relative","z-index":"10000"}},[n("div",{ref:"bts",class:{preload:e.preload},attrs:{id:"bts"}},[n("a",{staticClass:"up",class:{selected:e.isAutoScroll},staticStyle:{"margin-left":"0"},on:{click:function(t){e.isAutoScroll=!e.isAutoScroll}}},[n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.isAutoScroll,expression:"isAutoScroll"}],attrs:{size:"xs",icon:"fa-solid fa-check"}}),e._v(" "+e._s(e.top))],1),e._e(),n("a",{staticClass:"up",class:{selected:e.config.hi},on:{click:function(t){e.updateConfig({hi:!e.config.hi}),e.resize()}}},[e._v(" Hi")]),n("a",{staticClass:"up",on:{click:function(t){return e.updateConfig({fs:e.config.fs>=8?1:e.config.fs+1})}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),n("span",[e._v(e._s(e.config.fs))])],1),e._e(),n("a",{staticClass:"loop",class:{nocc:2==e.config.isAudio},on:{click:function(t){return e.updateConfig({isAudio:e.config.isAudio>=2?0:1+e.config.isAudio})}}},[e._v(" "+e._s(e.modeText())+" ")]),n("a",{staticClass:"loop",on:{click:function(t){return e.updateConfig({isLoop:++e.config.isLoop>4?0:e.config.isLoop})}}},[e._v(" "+e._s(e.loopText())+" ")]),n("a",{on:{click:function(t){return e.prev(1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-left"}})],1),n("a",{on:{click:function(t){return e.next(1)}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-right"}})],1)])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.isMask<2&&(e.config.hi||0!==e.config.viewMode),expression:"isMask < 2 && (config.hi || config.viewMode !== 0)"}],ref:"text",staticClass:"text"},[e._e(),e._e(),n("div",{ref:"lynx",domProps:{innerHTML:e._s(e.text)}})])]),n("PlayerControllers")],1)}),[],!1,null,"560c67b6",null)).exports;window.loaded=function(){alert(this)};var Q={data:function(){return{pageSize:5,page:1,curVideoId:"",search:"",busy:0}},created:function(){},filters:{fmtDate:function(e){return e.substring(4,6)+"-"+e.substring(6,8)}},computed:Object(r.a)({pageList:function(){var e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages:function(){var e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(o.b)(["news","words"])),methods:{close:function(e,t){var n=h()("html, body").scrollTop()-h()("#a"+t).outerHeight();setTimeout((function(){h()("html, body").animate({scrollTop:n},300)}),300),e.show=!1},clickHandler:function(e){d.a.$emit("click",e)},loadContent:function(e,t){var n=this;if(""==Object(b.a)().toString()){var i=this;e.desc||Object(b.c)(null,{cmd:"content",content:e},(function(r){if(r.content){var o=Object(w.a)(n.words,r.content);o=o.replace(/<img(.*?)>/gi,'<iframe style="width:100%;margin:0;padding:0;border:0;" frameborder="no" border="0" class="img"  $1 ></iframe>').replace(/src=/i,'src = "about:blank" _src='),setTimeout((function(){for(var e=document.querySelectorAll("#a"+t+" iframe.img"),n=function(t){var n=e[t],r=n.getAttribute("_src");if(!r)return h()(n).remove(),"continue";var o=n.contentDocument||n.contentWindow.document;o.addEventListener("click",i.clickHandler),o.addEventListener("touchend",i.clickHandler),o.body.style.overflow="hidden",o.body.innerHTML='<img  style="width:100%;" src="'.concat(r,'" />'),o.body.querySelector("img").onload=function(){h()(n).height(h()(n).contents().height())}},r=0;r<e.length;r++)n(r)}),100),e.desc=o}n.curVideoId=e.p})),this.$set(e,"show",!e.show)}},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.page++,e.busy=e.pages>0&&e.page>=e.pages}),1e3)},searchList:function(){return this.news},toPage:function(e){e<1||e>this.pages||(this.page=e)}},mounted:function(){var e=this;d.a.$on("swiper",(function(t,n){e.pageList.map((function(t,n){return t.show&&e.close(t,n)}))}))},watch:{}},G=(n("63ef"),Object(s.a)(Q,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[n("div",{staticStyle:{padding:"5px",background:"white"}},[n("table",{staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:i},[n("td",[n("h4",{staticClass:"title",class:{cur:e.curVideoId==t.p,ni:!t.i},on:{click:function(n){return e.loadContent(t,i)}}},[e._v(" "+e._s(e._f("fmtDate")(t.date))+": "+e._s(t.title)+" "),n("i",{staticClass:"src"},[e._v(e._s(t.src))])]),n("div",{attrs:{id:"a"+i}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(t.desc)}}),t.show?n("div",{staticStyle:{"text-align":"center"},on:{click:function(n){return e.close(t,i)}}},[e._v(" Close ")]):e._e()])])])})),0)]),n("div",{staticStyle:{"text-align":"right"}},[e._v(" Filter:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.search,expression:"search"}],staticStyle:{width:"60px"},domProps:{value:e.search},on:{input:function(t){t.target.composing||(e.search=t.target.value)}}}),e._v(" ("),n("input",{directives:[{name:"model",rawName:"v-model",value:e.page,expression:"page"}],staticStyle:{width:"25px"},domProps:{value:e.page},on:{input:function(t){t.target.composing||(e.page=t.target.value)}}}),e._v("/"+e._s(e.pages)+") "),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page-1)}}},[e._v(" Prev ")]),n("a",{staticClass:"ctrl",on:{click:function(t){return e.toPage(e.page+1)}}},[e._v(" Next ")])])])}),[],!1,null,"600c5b4c",null)).exports,K=n("b85c"),ee=(n("00b4"),n("9911"),n("a4d3"),n("e01a"),n("e9c4"),n("ec3d")),te={data:function(){return{fontSize:100,url:"",pageSize:20,page:1,curVideoId:"",search:"",busy:0,news:[],curIndex:0,loading:0}},created:function(){},filters:{fmtDate:function(e){return e.substring(4,6)+"-"+e.substring(6,8)}},computed:Object(r.a)({pageList:function(){var e=this.searchList();return 0==e.length||(e=e.slice(0,this.page*this.pageSize)),e},pages:function(){var e=this.searchList();return Math.floor((e.length+this.pageSize-1)/this.pageSize)}},Object(o.b)(["words"])),methods:{fontScale:function(e){this.updateConfig({fontSize:this.config.fontSize+100*e})},getNewsItems:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch(e).then((function(e){return e.text()})).then((function(t){var n=new DOMParser,i=n.parseFromString(t,"text/html");n.baseURI=e;var r=i.querySelectorAll('a[href^="/"]');return Array.from(r).filter((function(e){var t=e.getAttribute("href");return/\d{4}\/\d{2}\/\d{2}/.test(t)})).map((function(t){return{link:e+t.getAttribute("href"),title:t.textContent.trim(),pubDate:t.href.match(/\d{4}\/\d{2}\/\d{2}/)[0]}}))})).catch((function(e){}));case 2:return t.abrupt("return",t.sent);case 3:case"end":return t.stop()}}),t)})))()},close:function(e){setTimeout((function(){h()("body .new2").animate({scrollTop:e.scrollTop},300)}),300),e.show=!1},clickHandler:function(e){d.a.$emit("click",e)},fetchUrl:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,i;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(e.url),!e.url||!e.url.match("http.+")){t.next=13;break}if(0!=e.news.filter((function(t){return t.link==e.url})).length){t.next=12;break}return t.next=5,Object($.a)(n,"xml");case 5:(i=t.sent).rss.channel.item.pubDate=i.rss.channel.item.pubDate.replace(" +0000",""),e.news.unshift(i.rss.channel.item),e.loadContent(i.rss.channel.item,0),t.next=13;break;case 12:alert(e.url+" already exists!");case 13:case"end":return t.stop()}}),t)})))()},open:function(e,t){var n=this;""==Object(b.a)().toString()&&(this.curIndex=t,this.loading=1,e.scrollTop=h()("body .new2").scrollTop(),this.$set(e,"show",!e.show),setTimeout((function(){n.loadContent(e,t)}),0))},loadContent:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a,s,c,u,l,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(""==Object(b.a)().toString()){n.next=3;break}return n.abrupt("return");case 3:if(e.show){n.next=5;break}return n.abrupt("return");case 5:return i=e.link.replace(/.+\/(.*?\/[^/]+)/,"$1"),n.next=8,t.loadCache("new-"+i).catch((function(){return""}));case 8:if((r=n.sent)||!e.link){n.next=35;break}return o="https://ftr.fivefilters.net/makefulltextfeed.php?max=1&url="+encodeURIComponent(e.link),n.next=14,Object($.a)(o,"xml");case 14:if(a=n.sent,!((s=a.rss.channel.item.description).indexOf("unable to retrieve full-text")>-1)){n.next=27;break}return c=function(e,t){return document.createElement("div").innerHTML=e,document.querySelector(t)},n.prev=18,n.next=21,Object($.a)(e.link).then((function(e){return e.text()})).then((function(e){return c(e,".article__content").innerHTML}));case 21:s=n.sent,n.next=27;break;case 24:n.prev=24,n.t0=n.catch(18);case 27:r=s.replace(/(<\/?a.*?>)|(<\/?span.*?>)/g,""),u=h()("<div>"+r+"</div>"),l=["title","src","srcset","class"],u.find("*").each((function(){var e=h()(this),t=[];h.a.each(this.attributes,(function(){this&&this.specified&&-1==l.indexOf(this.name.toLowerCase())&&t.push(this.name)}));for(var n=0,i=t;n<i.length;n++){var r=i[n];e.removeAttr(r)}})),u.find("iframe").remove(),u.find("img,video").attr("referrerpolicy","no-referrer"),r=u[0].innerHTML,sessionStorage["new-"+i]=Object(ee.d)(r);case 35:d=Object(w.b)(t.words,r),r=d[0],t.$store.commit("add2CurWords",[d[1],1]),e.desc=r,t.curVideoId=e.p,t.loading=2;case 41:case"end":return n.stop()}}),n,null,[[18,24]])})))()},loadMore:function(){var e=this;this.busy=!0,setTimeout((function(){e.page++,e.busy=e.pages>0&&e.page>=e.pages}),1e3)},searchList:function(){return this.news},toPage:function(e){e<1||e>this.pages||(this.page=e)},getDate:function(e){if(e.pubDate){var t=new Date(e.pubDate);return t.getMonth()+1+"-"+t.getDate()}return""},getImage:function(e){return e.thumbnail?e.thumbnail.url:e.group&&e.group.content&&e.group.content.length>0?e.group.content.pop().url:void 0},fresh:function(){d.a.$emit("freshnews",1)}},mounted:function(){var e,t=this,n=this;C.a.init({mainElement:this.$refs.container,triggerElement:this.$refs.container,onRefresh:function(){n.fresh()}}),d.a.$on("swiper",(function(e,n){t.pageList.map((function(e,n){return e.show&&t.close(e,n)}))})),sessionStorage.news&&(e=this.news).push.apply(e,Object(f.a)(Object(ee.a)(sessionStorage.news))),d.a.$on("freshnews",(function(e){var i=localStorage.freshnews||0;!e&&(new Date).getTime()-i<216e5||Object(l.a)(regeneratorRuntime.mark((function e(){var i,r,o,a,s,c,u,l,d,p,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=[],null!=(o=t.config.rsss.filter((function(e){return e.enable})))){e.next=10;break}a=regeneratorRuntime.mark((function e(n){var i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.rss2json.com/v1/api.json?rss_url="+encodeURIComponent(o[n].url)).then((function(e){return e.json()})).then((function(e){return e.items.filter((function(e){return e.pubDate})).map((function(e){return{title:e.title,link:e.link,pubDate:e.pubDate,thumb:t.getImage(e),name:o[n].name}}))}));case 3:a=e.sent,(i=r).push.apply(i,Object(f.a)(a.filter((function(e){return e.link&&-1==e.link.indexOf("/videos/")})))),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})),s=0;case 5:if(!(s<o.length)){e.next=10;break}return e.delegateYield(a(s),"t0",7);case 7:s++,e.next=5;break;case 10:c=["https://edition.cnn.com/business","https://edition.cnn.com"],u=0;case 12:if(!(u<c.length)){e.next=21;break}return e.t1=r,e.next=16,t.getNewsItems(c[u]);case 16:e.t2=e.sent,r=e.t1.concat.call(e.t1,e.t2);case 18:u++,e.next=12;break;case 21:l=[],d={},p=Object(K.a)(t.news.concat(r));try{for(p.s();!(h=p.n()).done;)(m=h.value)&&(d[m.link]?d[m.link].title=m.title:(m.dt=new Date(m.pubDate).getTime(),l.push(m),d[m.link]=m))}catch(e){p.e(e)}finally{p.f()}l.sort((function(e,t){return t.dt-e.dt})),l.length=Math.min(n.config.keepNewsCount,l.length),localStorage.freshnews=(new Date).getTime(),sessionStorage.news=Object(ee.d)(JSON.stringify(l)),t.news.length=0,(i=t.news).push.apply(i,l);case 31:case"end":return e.stop()}}),e)})))()}))},watch:{}},ne=(n("c95c"),Object(s.a)(te,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"new2",staticStyle:{position:"fixed",top:"0",bottom:"0",overflow:"auto"},style:{fontSize:this.config.fontSize+"%"}},[n("div",{staticClass:"newbar",staticStyle:{display:"flex"}},[n("a",{staticClass:"btn",on:{click:function(t){return e.fontScale(-.1)}}},[e._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.url,expression:"url"}],staticClass:"urlinput",attrs:{placeholder:"http:// or https:// url"},domProps:{value:e.url},on:{blur:e.fetchUrl,focus:function(t){e.url=""},input:function(t){t.target.composing||(e.url=t.target.value)}}}),n("a",{staticClass:"btn",on:{click:function(t){return e.fontScale(.1)}}},[e._v("+")])]),n("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:e.loadMore,expression:"loadMore"}],ref:"container",attrs:{"infinite-scroll-disabled":"busy","infinite-scroll-distance":"20"}},[n("div",{staticStyle:{padding:"5px","user-select":"none"}},[n("table",{staticClass:"row",staticStyle:{"text-align":"left",width:"100%"}},e._l(e.pageList,(function(t,i){return n("tr",{key:t.link,class:{cur:e.curIndex==i}},[n("td",[n("div",{staticClass:"item",class:{cur:e.curIndex==i,loading:t.show&&e.curIndex==i&&1==e.loading,loaded:t.show&&e.curIndex==i&&2==e.loading,readed:t.desc},on:{mouseover:function(t){e.curIndex=i},click:function(n){return e.open(t,i)}}},[t.thumb?n("img",{staticClass:"thumb",attrs:{src:t.thumb,referrerpolicy:"no-referrer"}}):e._e(),n("div",[n("div",{staticClass:"title"},[e._v(e._s(i+1)+". "+e._s(t.title))]),n("div",{staticClass:"info"},[n("span",{staticClass:"name"},[e._v(e._s(t.name))]),n("span",{staticClass:"date"},[e._v(e._s(e.getDate(t)))])])])]),n("div",{attrs:{id:"a"+i}},[n("div",{directives:[{name:"show",rawName:"v-show",value:t.show,expression:"item.show"}],staticClass:"desc",domProps:{innerHTML:e._s(t.desc)}}),t.show?n("div",{staticClass:"close",on:{click:function(n){return e.close(t,i)}}},[n("a",{staticClass:"bt"},[e._v("Close")])]):e._e()])])])})),0)]),0==e.pageList.length?n("div",{staticStyle:{"text-align":"center",cursor:"pointer"},on:{click:function(t){return e.fresh()}}},[n("a",[e._v("Refresh")])]):e._e()])])}),[],!1,null,"9f7b87a8",null)).exports,ie={data:function(){return{playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0}},created:function(){},computed:Object(r.a)({},Object(o.b)(["curWords","seeCurWords"])),components:{WordItem:g},methods:{playList:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.curWords.length){t.next=15;break}n=0;case 3:if(!(n<e.$refs.word.length)){t.next=15;break}if(e.config2.playing){t.next=7;break}return e.curPlay="",t.abrupt("return");case 7:return t.next=10,e.sleep(10);case 10:return t.next=12,e.$refs.word[n].playWords(e.$refs.curWs);case 12:n++,t.next=3;break;case 15:e.updateConfig2({playing:0});case 16:case"end":return t.stop()}}),t)})))()},showHideCurWords:function(e){var t=h()(window).width();if(h()(".videoCon").is(":visible")){var n=h()(".videoCon").width(),i=n>0&&t-n<.25*t;h()(this.$refs.curWs).css("top",i?h()(".text").offset().top+"px":"auto"),e?i?(h()(".text").css({width:t!=n?Math.min(.75*t,n)+"px":"75%"}),h()(this.$refs.curWs).css({left:"auto",right:"0"})):h()(this.$refs.curWs).css({left:h()(".text").outerWidth()+"px",right:"auto"}):h()(".text").css("width","100%")}else e?(h()(this.$refs.curWs).css({left:"auto",right:"0",top:0}),h()(".new2").css("width","75%")):h()(".new2").css("width","100%")}},mounted:function(){var e=this;h()(window).resize((function(){e.showHideCurWords(e.seeCurWords)})),d.a.$on("newWord",(function(t){e.$store.commit("add2CurWords",[[t]])})),d.a.$on("playCurWords",(function(){Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!e.config2.playing){t.next=4;break}e.updateConfig2({playing:0}),t.next=15;break;case 4:return e.updateConfig2({playing:1}),e.skipTrigAutoPlay=1,t.prev=6,t.next=9,e.playList();case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(6);case 14:e.skipTrigAutoPlay=0;case 15:d.a.$emit("finishPlayCurWords");case 16:case"end":return t.stop()}}),t,null,[[6,11]])})))()}))},watch:{"$store.state.config2.playing":{handler:function(e){e&&!this.skipTrigAutoPlay&&this.playList()}},"$store.state.config.seeCurWords":{handler:function(e){this.showHideCurWords(e)}}}},re=(n("43a4"),Object(s.a)(ie,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords,expression:"config.seeCurWords"}],ref:"curWs",staticClass:"curWs"},e._l(e.curWords,(function(t){return n("WordItem",{key:t.q,ref:"word",refInFor:!0,staticStyle:{padding:"5px 0"},attrs:{curPlay:e.curPlay,word:t,playMode:e.playMode,playing:e.config2.playing,playRel:3}})})),1)])}),[],!1,null,"17d18f8b",null)).exports,oe=(n("b680"),{data:function(){return{playMode:localStorage.playMode&&parseInt(localStorage.playMode)||0,curPlay:"",isSpell:!1,playNum:0,opacity:.1}},created:function(){},computed:{},components:{},watch:{"$store.state.config2.mask":{handler:function(e){e||this.onLeave()}},"$store.state.config.viewMode":{handler:function(e){try{0==e?this.enterFullscreen(document.querySelector("#app")):this.exitFullscreen(document.querySelector("#app"))}catch(e){}}}},methods:{changeRate:function(){this.config.playbackrate=(.1+parseFloat(this.config.playbackrate)).toFixed(1),this.updateConfig({playbackrate:this.config.playbackrate>1?.5:this.config.playbackrate})},clickAudio:function(){this.updateConfig({isAudio:this.config.isAudio>=2?0:1+this.config.isAudio})},onLeave:function(){this.opacity=0,this.updateConfig2({mask:0})},onTouch:function(){this.opacity=1,this.updateConfig2({mask:1})},togglePlayAndMode:function(){this.playMode++,this.playMode>3&&(this.playMode=0),localStorage.playMode=this.playMode},setShowCurWords:function(e){this.updateConfig({seeCurWords:e}),e||this.updateConfig2({playing:e})}},mounted:function(){var e=this;document.addEventListener("click",(function(t){e.$refs.op_tool&&(e.$refs.op_tool.contains(t.target)||e.onLeave())}))}}),ae=(n("475a"),Object(s.a)(oe,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"op_tool",staticClass:"op_tool",class:{show:e.opacity,hide:!e.opacity},on:{touchstart:function(t){return e.onTouch(1)},mouseover:function(t){return e.onTouch()},mouseout:function(t){return e.onLeave(0)},touchmove:function(t){return e.onTouch()}}},[n("div",{directives:[{name:"show",rawName:"v-show",value:e.opacity<1,expression:"opacity < 1"}],ref:"mask",staticStyle:{width:"150%",height:"100%",position:"absolute","z-index":"1","user-select":"none"},on:{touchstart:function(e){e.preventDefault()},touchend:function(e){e.preventDefault()},touchmove:function(e){e.preventDefault()}}}),n("div",{staticClass:"icons"},[n("span",{class:{playing:e.config2.playing},on:{click:function(t){return e.togglePlayAndMode()}}},[e._v(e._s(e.playMode))]),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&e.config2.playing,expression:"config.seeCurWords && config2.playing"}],attrs:{icon:"volume-high","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),n("font-awesome-icon",{directives:[{name:"show",rawName:"v-show",value:e.config.seeCurWords&&!e.config2.playing,expression:"config.seeCurWords && !config2.playing"}],attrs:{icon:"volume-xmark","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),n("font-awesome-icon",{class:{active:e.config.viewMode>-1,vmode0:0==e.config.viewMode,left:2==e.config.viewMode},attrs:{icon:"fa-solid fa-maximize","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({viewMode:++e.config.viewMode>2?-1:e.config.viewMode})}}}),n("font-awesome-icon",{class:{active:e.config.seeCurWords},attrs:{icon:["fas","list"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.setShowCurWords(!e.config.seeCurWords)}}}),1==e.config.isAudio?n("font-awesome-icon",{attrs:{icon:["fas","headphones"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):2==e.config.isAudio?n("font-awesome-icon",{attrs:{icon:["fas","headphones-simple"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}):n("font-awesome-icon",{attrs:{icon:["fas","tv"],"fixed-width":"",size:"lg"},on:{click:e.clickAudio}}),n("a",{on:{click:function(t){return e.updateConfig({fs:e.config.fs>=8?1:e.config.fs+1})}}},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}}),n("span",[e._v(e._s(e.config.fs))])],1),n("font-awesome-icon",{class:{active:e.config.custCue,borderTop:2==e.config.custCue,hideCue:3==e.config.custCue,borderBottom:1==e.config.custCue},attrs:{icon:["fas","closed-captioning"],"fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig({custCue:++e.config.custCue>3?0:e.config.custCue})}}}),n("font-awesome-icon",{attrs:{icon:"eye","fixed-width":"",size:"lg"},on:{click:function(t){return e.toggleSetting()}}}),n("div",[n("a",{on:{click:function(t){return e.changeRate()}}},[e._v(e._s(e.config.playbackrate))])]),n("div",[n("a",{on:{click:function(t){return e.updateConfig({theme:"dark"==e.config.theme?"light":"dark"})}}},[e._v(e._s(e.config.theme))])])],1)])}),[],!1,null,"56c15a38",null)).exports,se=(n("b64b"),{data:function(){return{pauseTimer:0,pauseTimerTimer:0,endTime:"",token:"",tokenMessage:"",showSetting:1,refreshIndicator:0,uploadDate:"",voices:["YD","BD","BK","SG"],rssIndex:-1}},filters:{fmtDate:function(e){return e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""}},created:function(){var e=this,t=this,n=+new Date,i=function(){setTimeout((function(){e.isFullscreen()||0!==t.config.viewMode||e.updateConfig({viewMode:-1})}),1e3)};(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled)&&(document.addEventListener("fullscreenchange",i),document.addEventListener("webkitfullscreenchange",i),document.addEventListener("mozfullscreenchange",i),document.addEventListener("MSFullscreenChange",i)),Object(b.c)(null,{cmd:"getConfig",reqId:++n},(function(t){t&&(e.$store.commit("config",t),setTimeout((function(){try{i()}catch(e){}}),0))})),Object(l.a)(regeneratorRuntime.mark((function i(){var r;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:r={},t.timer=setInterval((function(){"complete"===document.readyState&&(window.clearInterval(t.timer),Object(b.c)(null,{cmd:"getConfig",reqId:++n},(function(t){if(t){var n=Object.assign(e.config,t,r),i=n.rsss,o=t.rsss?t.rsss.reduce((function(e,t){return e[t.name]=t.enable,e}),{}):{};i.forEach((function(e){e.enable=o[e.name]?1:0}));var a=n.urls,s={};if(t.urls)for(var c=0,u=Object.keys(t.urls);c<u.length;c++){var l,d=u[c],f=Object(K.a)(t.urls[d]);try{for(f.s();!(l=f.n()).done;){var p=l.value;s[p.url]=p.enable}}catch(e){f.e(e)}finally{f.f()}}for(var h=0,m=Object.keys(a);h<m.length;h++){var g,v=m[h],y=Object(K.a)(a[v]);try{for(y.s();!(g=y.n()).done;){var w=g.value;w.enable=s[w.url]?1:0}}catch(e){y.e(e)}finally{y.f()}}Object.assign(n,t),i&&i.length&&Object.assign(n,{rsss:i,urls:a}),e.$store.commit("config",n),e.loadmodsdata().then((function(){e.refresh()}))}})),Object(b.c)(null,{cmd:"get",name:"user",reqId:++n},(function(t){e.tokenMessage=t})),Object(b.c)(null,{cmd:"get",name:"uploadDate",reqId:++n},(function(t){e.uploadDate=t})))}),1e3);case 2:case"end":return i.stop()}}),i)})))()},mounted:function(){var e=this;setTimeout((function(){e.config.autoRefresh&&e.refresh(!0)}),1e3)},methods:{focus:function(e){setTimeout((function(){e.target.focus()}),1e3)},mUpload:function(){var e=this;this.$store.commit("setLoading",1),this.loading||(this.loading=1,Object(b.c)(null,{cmd:"mUpload"},(function(t){t&&e.refresh(),e.$store.commit("setLoading",0),e.loading=0})))},loadmodsdata:function(){var e=this;return Object(l.a)(regeneratorRuntime.mark((function t(){var n,i,r,o,a;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:for(r in n=e,i=[],e.config)0==r.indexOf("show")&&e.config[r]&&i.push(r.substring(4));i.sort().reverse(),o=0;case 5:if(!(o<i.length)){t.next=19;break}return t.prev=6,t.next=9,e.loadCache(i[o]);case 9:a=t.sent,n.$store.commit(i[o],a||[]),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(6);case 16:o++,t.next=5;break;case 19:d.a.$on("fresh",(function(t,n){e.refreshmode(t,n)}));case 20:case"end":return t.stop()}}),t,null,[[6,13]])})))()},refreshmode:function(e,t){var n=this;return Object(l.a)(regeneratorRuntime.mark((function i(){var r,o,a,s,c;return regeneratorRuntime.wrap((function(i){for(;;)switch(i.prev=i.next){case 0:if(r=n,d.a.$emit("fresh"+e,t),!(n.$store[e]&&n.$store[e].length>0)){i.next=7;break}return i.next=7,n.saveCache(e,n.$store[e]);case 7:return o={},i.next=10,new Promise((function(n){Object(b.c)(null,{cmd:"lists",force:t,type:e},(function(t){t&&(t.contents&&t.contents.length&&(r.$store.commit(e,t.contents),o[e]=t.contents),t.done&&n())}))}));case 10:a=Object.keys(o),s=0;case 12:if(!(s<a.length)){i.next=19;break}return c=a[s],i.next=16,n.saveCache(c,o[c]).catch((function(e){}));case 16:s++,i.next=12;break;case 19:case"end":return i.stop()}}),i)})))()},refresh:function(e){var t=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r,o,a;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!(i=t).refreshIndicator){n.next=4;break}return n.abrupt("return");case 4:for(o in i.refreshIndicator=1,r=[],t.config)0==o.indexOf("show")&&t.config[o]&&r.push(o.substring(4));r.sort().reverse(),a=0;case 9:if(!(a<r.length)){n.next=15;break}return n.next=12,t.refreshmode(r[a],e);case 12:a++,n.next=9;break;case 15:i.refreshIndicator=0;case 16:case"end":return n.stop()}}),n)})))()},upConfig:function(){var e=this;Object(b.c)(null,{cmd:"setConfig",content:this.config},(function(){e.$store.commit("config",e.config)}))},submitTimer:function(){clearTimeout(this.pauseTimerTimer);var e=this,t=parseInt(this.pauseTimer);if(t>0){var n=(new Date).getTime();e.endTime=new Date(n+60*t*1e3),this.pauseTimerTimer=setTimeout((function(){h()("audio,video").each((function(){h()(this)[0].pause()})),Object(b.c)(null,{cmd:"audio",pause:!0},(function(){})),e.pauseTimer=0,e.endTime=""}),60*t*1e3)}},submitToken:function(){var e=this;this.tokenMessage="",Object(b.c)(null,{cmd:"token",content:this.token},(function(t){t&&(e.tokenMessage=t.message||t.name,t.name||setTimeout((function(){Object(b.c)(null,{cmd:"token"},(function(t){e.tokenMessage=t,t||(e.token="")}))}),3e3))}))},toggleHl:function(){h()("html > head #newwordHl").length>0?h()("html > head #newwordHl").remove():h()("html > head").append(h()('<style id="newwordHl" type = "text/css">\n      .newWordb{   display:none;}\n      </style>'))}},computed:Object(r.a)({},Object(o.b)(["curTab","showApp","curItem"])),watch:{"$store.state.config.showvideos":{handler:function(e){e&&!Object.keys(this.config.urls).length&&window.location.reload()}}}}),ce=(n("ce61"),Object(s.a)(se,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticStyle:{"font-size":"0.8em",color:"white"}},[n("div",{staticClass:"t_1"},[n("span",[n("input",{attrs:{type:"checkbox"},on:{click:function(t){return e.toggleHl()}}}),e._v("HL")]),n("span",{on:{click:function(t){e.showSetting=!e.showSetting}}},[e._v(" Setting ")]),n("span",{on:{click:function(t){return e.refresh(!0)}}},[e._v("Refresh"),e.refreshIndicator?n("span",[e._v("...")]):e._e()]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.autoRefresh,expression:"config.autoRefresh"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.autoRefresh)?e._i(e.config.autoRefresh,null)>-1:e.config.autoRefresh},on:{change:function(t){var n=e.config.autoRefresh,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"autoRefresh",n.concat([null])):o>-1&&e.$set(e.config,"autoRefresh",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"autoRefresh",r)}}}),n("span",[e._v(" Editor")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.editor,expression:"config.editor"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.editor)?e._i(e.config.editor,null)>-1:e.config.editor},on:{change:[function(t){var n=e.config.editor,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"editor",n.concat([null])):o>-1&&e.$set(e.config,"editor",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"editor",r)},function(t){return e.upConfig()}]}}),n("span",[e._v(" Dev")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dev,expression:"config.dev"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dev)?e._i(e.config.dev,null)>-1:e.config.dev},on:{change:[function(t){var n=e.config.dev,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"dev",n.concat([null])):o>-1&&e.$set(e.config,"dev",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"dev",r)},function(t){return e.upConfig()}]}})])]),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showSetting,expression:"showSetting"}],staticStyle:{"font-size":"0.8em",color:"white","text-align":"left","border-top":"1px dashed white",padding:"5px"}},[n("div",[n("div",[e._v(" Translate Url:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.tranUrl,expression:"config.tranUrl"}],domProps:{value:e.config.tranUrl},on:{blur:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"tranUrl",t.target.value)}}})])]),n("div",[n("div",[e._v(" Back ground Audio keep live "),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.bgkeeplive)?e._i(e.config.bgkeeplive,null)>-1:e.config.bgkeeplive},on:{change:[function(t){var n=e.config.bgkeeplive,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"bgkeeplive",n.concat([null])):o>-1&&e.$set(e.config,"bgkeeplive",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"bgkeeplive",r)},function(t){return e.upConfig()}]}})])]),n("audio",{directives:[{name:"show",rawName:"v-show",value:e.config.bgkeeplive,expression:"config.bgkeeplive"}],attrs:{id:"bgAudio",controls:""},on:{click:function(e){e.stopPropagation()}}})]),n("div",{staticStyle:{display:"flex","flex-wrap":"wrap"}},[n("div",[n("span",[e._v(" Retain:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.retains,expression:"config.retains",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"30"},domProps:{value:e.config.retains},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"retains",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",[n("span",[e._v(" Loop Count:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.loopCount,expression:"config.loopCount",modifiers:{number:!0}}],staticStyle:{"max-width":"30px"},attrs:{min:"1"},domProps:{value:e.config.loopCount},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"loopCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),n("div",[n("span",[e._v(" Timeout Next:")]),n("label",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.timeoutnext,expression:"config.timeoutnext"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.timeoutnext)?e._i(e.config.timeoutnext,null)>-1:e.config.timeoutnext},on:{change:[function(t){var n=e.config.timeoutnext,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"timeoutnext",n.concat([null])):o>-1&&e.$set(e.config,"timeoutnext",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"timeoutnext",r)},function(t){return e.upConfig()}]}})])]),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Stop after "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.pauseTimer,expression:"pauseTimer",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.pauseTimer},on:{blur:[e.submitTimer,function(t){return e.$forceUpdate()}],input:function(t){t.target.composing||(e.pauseTimer=e._n(t.target.value))}}}),e._v(" minus "),e.endTime?n("span",[e._v("at "+e._s(e._f("fmtDate")(e.endTime)))]):e._e()])]),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Token: "),n("div",[n("input",{directives:[{name:"model",rawName:"v-model",value:e.token,expression:"token"}],staticStyle:{width:"100%","box-sizing":"border-box"},domProps:{value:e.token},on:{blur:function(t){return e.submitToken()},input:function(t){t.target.composing||(e.token=t.target.value)}}})]),n("div",{staticStyle:{color:"red","font-weight":"bold"}},[e._v(e._s(e.tokenMessage))])]),e.token?n("div",[n("div",[e._v(" Word upload: "),n("a",{staticStyle:{cursor:"pointer",color:"red"},on:{click:function(t){return e.mUpload()}}},[e._v("upload "+e._s(e.uploadDate))])]),n("div",[e._v(" Upload "),n("div",[e._v(" only when new word reach "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzWords,expression:"config.fzWords"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzWords",t.target.multiple?n:n[0])},function(t){return e.upConfig()}]}},[n("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,3,5,10,20,50,100],(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)]),n("div",[e._v(" only when new video reach "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.fzVideos,expression:"config.fzVideos"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"fzVideos",t.target.multiple?n:n[0])},function(t){return e.upConfig()}]}},[n("option",{attrs:{value:"0"}},[e._v("Disable")]),e._l([1,5,10,20,50,100],(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(" "+e._s(t)+" ")])}))],2)])])]):e._e(),n("div",{staticStyle:{"text-align":"left"}},[e._v(" Enable: "),n("div",[n("label",[e._v(" Radio "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.radio,expression:"config.radio"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.radio)?e._i(e.config.radio,null)>-1:e.config.radio},on:{change:[function(t){var n=e.config.radio,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"radio",n.concat([null])):o>-1&&e.$set(e.config,"radio",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"radio",r)},function(t){return e.upConfig()}]}})]),n("label",[e._v(" Words "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showwords,expression:"config.showwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showwords)?e._i(e.config.showwords,null)>-1:e.config.showwords},on:{change:[function(t){var n=e.config.showwords,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"showwords",n.concat([null])):o>-1&&e.$set(e.config,"showwords",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"showwords",r)},function(t){return e.upConfig()}]}})]),n("label",[e._v(" MJ "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.mj,expression:"config.mj"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.mj)?e._i(e.config.mj,null)>-1:e.config.mj},on:{change:[function(t){var n=e.config.mj,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"mj",n.concat([null])):o>-1&&e.$set(e.config,"mj",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"mj",r)},function(t){return e.upConfig()}]}})]),n("label",[e._v(" Dict "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dict,expression:"config.dict"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dict)?e._i(e.config.dict,null)>-1:e.config.dict},on:{change:[function(t){var n=e.config.dict,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"dict",n.concat([null])):o>-1&&e.$set(e.config,"dict",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"dict",r)},function(t){return e.upConfig()}]}})]),n("label",[e._v(" Rel Words "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.relwords,expression:"config.relwords"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.relwords)?e._i(e.config.relwords,null)>-1:e.config.relwords},on:{change:[function(t){var n=e.config.relwords,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"relwords",n.concat([null])):o>-1&&e.$set(e.config,"relwords",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"relwords",r)},function(t){return e.upConfig()}]}})])])]),n("div",[n("label",[e._v(" Vidoes "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.showvideos,expression:"config.showvideos"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.showvideos)?e._i(e.config.showvideos,null)>-1:e.config.showvideos},on:{change:[function(t){var n=e.config.showvideos,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"showvideos",n.concat([null])):o>-1&&e.$set(e.config,"showvideos",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"showvideos",r)},function(t){return e.upConfig()}]}})]),e.config.showvideos?n("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[n("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.urls,(function(t,i){return n("li",{key:i},[n("div",{staticStyle:{"font-weight":"bold","font-size":"120%",display:"flex","justify-content":"space-between"}},[n("span",[e._v(e._s(i))]),n("input",{attrs:{type:"checkbox"},on:{click:function(e){t.forEach((function(e){return e.enable=!e.enable}))},change:function(t){return e.upConfig()}}})]),e._l(t,(function(t){return n("div",{key:t.url,staticStyle:{display:"flex"}},[n("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden","flex-grow":"1"}},[e._v(" ... "+e._s(t.url.substr(-40))+" ")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enable,expression:"g.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.enable)?e._i(t.enable,null)>-1:t.enable},on:{change:[function(n){var i=t.enable,r=n.target,o=!!r.checked;if(Array.isArray(i)){var a=e._i(i,null);r.checked?a<0&&e.$set(t,"enable",i.concat([null])):a>-1&&e.$set(t,"enable",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(t,"enable",o)},function(t){return e.upConfig()}]}})])}))],2)})),0)]):e._e()]),n("div",{staticStyle:{"user-select":"none"}},[n("div",{staticStyle:{"text-align":"left",margin:"5px 0px",display:"flex","justify-content":"space-between","font-weight":"bold",color:"black","font-size":"120%"}},[n("span",[e._v(" Rss: "),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.shownews,expression:"config.shownews"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.shownews)?e._i(e.config.shownews,null)>-1:e.config.shownews},on:{change:[function(t){var n=e.config.shownews,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"shownews",n.concat([null])):o>-1&&e.$set(e.config,"shownews",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"shownews",r)},function(t){return e.upConfig()}]}})]),n("div",[n("span",[e._v("Keep:")]),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.keepNewsCount,expression:"config.keepNewsCount",modifiers:{number:!0}}],staticStyle:{"max-width":"40px"},attrs:{type:"input",min:"0",max:"200"},domProps:{value:e.config.keepNewsCount},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"keepNewsCount",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})])]),e.config.shownews?n("div",{staticStyle:{"max-height":"50vh",overflow:"auto"}},[n("ul",{staticStyle:{border:"1px solid #ccc",padding:"5px"}},e._l(e.config.rsss,(function(t,i){return n("li",{key:t.url,on:{click:function(t){e.rssIndex=i}}},[n("div",[n("div",[n("div",{staticStyle:{display:"flex"}},[n("a",{staticStyle:{"flex-grow":"1"}},[e._v(e._s(i)+" "+e._s(t.name))]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.enable,expression:"rss.enable"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(t.enable)?e._i(t.enable,null)>-1:t.enable},on:{change:[function(n){var i=t.enable,r=n.target,o=!!r.checked;if(Array.isArray(i)){var a=e._i(i,null);r.checked?a<0&&e.$set(t,"enable",i.concat([null])):a>-1&&e.$set(t,"enable",i.slice(0,a).concat(i.slice(a+1)))}else e.$set(t,"enable",o)},function(t){return e.upConfig()}]}})]),n("div",{staticStyle:{"text-overflow":"ellipsis","white-space":"nowrap",overflow:"hidden"}},[n("span",[e._v(e._s(t.url))])])])])])})),0)]):e._e()]),n("div",{staticStyle:{"text-align":"left",margin:"5px 0",display:"flex","justify-content":"space-between","flex-wrap":"wrap"}},[n("div",[e._v(" Sound: "),n("select",{directives:[{name:"model",rawName:"v-model",value:e.config.autoSound,expression:"config.autoSound"}],on:{change:[function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){return"_value"in e?e._value:e.value}));e.$set(e.config,"autoSound",t.target.multiple?n:n[0])},function(t){return e.upConfig()}]}},[n("option",{attrs:{value:""}},[e._v("No sound")]),n("option",{attrs:{value:"auto"}},[e._v("auto")]),e._l(e.voices,(function(t){return n("option",{key:t,domProps:{value:t}},[e._v(e._s(t))])}))],2)]),n("div",[e._v(" Translate Max Len:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.activeTran,expression:"config.activeTran"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.activeTran)?e._i(e.config.activeTran,null)>-1:e.config.activeTran},on:{change:function(t){var n=e.config.activeTran,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"activeTran",n.concat([null])):o>-1&&e.$set(e.config,"activeTran",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"activeTran",r)}}}),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.maxTranLen,expression:"config.maxTranLen",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.maxTranLen},on:{input:function(t){t.target.composing||e.$set(e.config,"maxTranLen",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",[e._v(" Back play: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.backplay,expression:"config.backplay",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.backplay},on:{input:function(t){t.target.composing||e.$set(e.config,"backplay",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}}),e._v("s ")]),n("div",[e._v(" waitTimes: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.waitTimes,expression:"config.waitTimes",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"0"},domProps:{value:e.config.waitTimes},on:{input:function(t){t.target.composing||e.$set(e.config,"waitTimes",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",[e._v(" playerNum: "),n("input",{directives:[{name:"model",rawName:"v-model.number",value:e.config.playerNum,expression:"config.playerNum",modifiers:{number:!0}}],staticStyle:{width:"40px"},attrs:{min:"1"},domProps:{value:e.config.playerNum},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"playerNum",e._n(t.target.value))},blur:function(t){return e.$forceUpdate()}}})]),n("div",[e._v(" Dock List:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.dockList,expression:"config.dockList"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.dockList)?e._i(e.config.dockList,null)>-1:e.config.dockList},on:{change:[function(t){var n=e.config.dockList,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"dockList",n.concat([null])):o>-1&&e.$set(e.config,"dockList",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"dockList",r)},function(t){return e.upConfig()}]}})]),n("div",[e._v(" custCue:"),n("a",{on:{click:function(t){e.config.custCue=++e.config.custCue>3?0:e.config.custCue,e.upConfig()}}},[e._v(e._s(0==e.config.custCue?"Default":1==e.config.custCue?"Bottom":2==e.config.custCue?"Top":"Disable")+" "+e._s(e.config.custCue)+" ")])]),n("div",[e._v(" maxBitRate:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.maxBitRate,expression:"config.maxBitRate"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.config.maxBitRate)?e._i(e.config.maxBitRate,null)>-1:e.config.maxBitRate},on:{change:[function(t){var n=e.config.maxBitRate,i=t.target,r=!!i.checked;if(Array.isArray(n)){var o=e._i(n,null);i.checked?o<0&&e.$set(e.config,"maxBitRate",n.concat([null])):o>-1&&e.$set(e.config,"maxBitRate",n.slice(0,o).concat(n.slice(o+1)))}else e.$set(e.config,"maxBitRate",r)},function(t){return e.upConfig()}]}})]),n("div",[e._v(" m3u8Repo:"),n("input",{directives:[{name:"model",rawName:"v-model",value:e.config.m3u8Repo,expression:"config.m3u8Repo"}],domProps:{value:e.config.m3u8Repo},on:{change:function(t){return e.upConfig()},input:function(t){t.target.composing||e.$set(e.config,"m3u8Repo",t.target.value)}}})])])])])}),[],!1,null,"2d80735a",null)).exports,ue=(n("141b"),"v241003.1"),le={data:function(){return{ver:ue,zIndex:(new Date).getTime(),error:"",errorUrl:"",showTimer:!1,pauseTimer:0,pauseTimerTimer:0,endTime:"",showInputToken:0,token:"",tokenMessage:"",wlargeh:0}},filters:{fmtDate:function(e){return e?e.getHours()+":"+e.getMinutes()+":"+e.getSeconds():""}},components:{Editor:c,HelloWorld:u.a,NewWordsR:y,MediaPlayer:Z,Setting:ce,News:G,News2:ne,CurWords:re,TopTool:ae},mounted:function(){var e=this;this.setTheme(this.config.theme);var t=function(){var e=document.documentElement;e.style.setProperty("--doc-height","".concat(window.innerHeight,"px")),setTimeout((function(){e.style.setProperty("--doc-height","".concat(window.innerHeight,"px")),self.wlargeh=window.innerWidth>window.innerHeight}),200)};window.addEventListener("resize",t),t(),d.a.root=this.$refs.root,h()(this.$refs.rootnav).on("click",(function(){e.clearSelect()}));var n,i,r=document;r.addEventListener("touchstart",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i=n=t.pageX}}),!1),r.addEventListener("touchmove",(function(e){if(1==e.targetTouches.length){var t=e.targetTouches[0];i=t.pageX}}),!1),r.addEventListener("touchend",(function(e){Math.abs(i-n)>140&&(0==Object(b.a)().toString().length&&d.a.$emit("swiper",e,i-n))}),!1);var o=0,a=function(t){e.$refs.root&&e.showApp&&(e.$refs.root.contains(t.target)||e.$store.commit("setShowApp",!1)),o||(o=1,Object(k.a)())};r.addEventListener("click",a),r.addEventListener("touchend",a),d.a.$on("click",a),this.$refs.play.addEventListener("mouseenter",(function(t){e.setCurTab("HelloWorld"),d.a.$emit("play",t)})),this.$refs.play.addEventListener("click",(function(t){e.setCurTab("HelloWorld"),d.a.$emit("play",t)})),d.a.$on("error",(function(t){e.error=t.error,e.errorUrl=t.errorUrl}))},methods:{setTheme:function(e){"BODY"==this.$refs.app.parentElement.tagName&&(this.$refs.app.parentElement.classList.add(e),this.$refs.app.parentElement.classList.remove("dark"==e?"light":"dark"),document.querySelector("meta[name=theme-color]").content="dark"==e?"#000000":"#BFD9FF",document.querySelector("meta[name=theme-color]").media="(prefers-color-scheme: ".concat(e,")"))},touchMask:function(){this.$store.commit("setShowSetting",0),this.$store.commit("setShowApp",0),this.updateConfig2({mask:0}),window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},clearSelect:function(){window.getSelection?window.getSelection().empty?window.getSelection().empty():window.getSelection().removeAllRanges&&window.getSelection().removeAllRanges():document.selection&&document.selection.empty()},toggleAutoPlay:function(){d.a.$emit("toggleAutoPlay")},showError:function(){alert(this.error+":"+this.errorUrl)},changeItemNew:function(e){var t=this;this.curItem.q.trim()&&(this.curItem.n=e.target.checked?1:0,Object(b.c)(null,{cmd:"newWord",content:this.curItem},(function(e){t.$store.commit("newWord",e.contents)})))},setCurTab:function(e){this.$store.commit("setCurTab",e)},enterTab:function(e,t){var n,i=this;e.target.addEventListener("mouseout",(function t(){clearTimeout(n),e.target.removeEventListener("mouseout",t)})),n=setTimeout((function(){i.setCurTab(t)}),200)},submitToken:function(){var e=this;this.tokenMessage="",Object(b.c)(null,{cmd:"token",content:this.token},(function(t){e.tokenMessage=t.message||t.name}))}},computed:Object(r.a)({},Object(o.b)(["curTab","showApp","curItem","curPlay","loading","showSidebar"])),watch:{"$store.state.config.theme":{handler:function(e){this.setTheme(e)}},showApp:function(e){e&&(this.zIndex=(new Date).getTime())},pauseTimer:function(e){clearTimeout(this.pauseTimerTimer);var t=this,n=parseInt(e);if(n>0){var i=(new Date).getTime();t.endTime=new Date(i+60*n*1e3),this.pauseTimerTimer=setTimeout((function(){h()("audio,video").each((function(){h()(this)[0].pause()})),Object(b.c)(null,{cmd:"audio",pause:!0},(function(){})),t.pauseTimer=0,t.endTime=""}),60*n*1e3)}}}},de=(n("5363"),n("2121"),Object(s.a)(le,(function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{ref:"app",staticClass:"mytranslate-extension",class:"fs-"+e.config.fs+" "+e.config.theme+(e.config.hi?" hi":""),attrs:{id:"app"}},[n("Editor"),n("div",{class:{viewMode:e.config.viewMode>0,viewMode2:2==e.config.viewMode,touchstart:e.config2.touchstart,showList:e.config2.showList,showCustCue:e.config.custCue,cueTop:2==e.config.custCue,cueBotton:1==e.config.custCue,pause:!e.config2.playingM,videoUrl:e.config2.videoUrl||e.config.shownews,dockList:e.config.dockList,showPlay:e.config2.showPlay},attrs:{data:e.config.viewMode}},[e.showApp||e.showSidebar||e.config2.mask?n("div",{staticClass:"vt-backdrop backdrop",staticStyle:{position:"fixed",top:"0",right:"0",bottom:"0",left:"0",background:"rgba(255, 255, 255, 0.1)",transition:"opacity 0.5s","z-index":"11110"},on:{click:function(t){return t.stopPropagation(),e.touchMask()},mouseup:function(e){e.stopPropagation()},touchend:function(e){e.stopPropagation()}}}):e._e(),e.loading?n("div",{staticClass:"loading"},[n("font-awesome-icon",{attrs:{icon:"fa-solid fa-spinner"}})],1):e._e(),n("div",{staticStyle:{width:"100%",height:"100%"}},[e.curPlay?n("div",{staticClass:"curPlay"},[n("div",{on:{click:function(t){return e.toggleAutoPlay()}}},[e._v(" "+e._s(e.curPlay.q)+" "),e.curPlay.am?n("b",[e._v(" ["+e._s(e.curPlay.am)+"]")]):e._e(),n("div",[e._v(e._s(e.curPlay.to))])])]):e._e(),n("div",{staticClass:"videoview"},[n("MediaPlayer")],1),e.shownews&&!e.config2.showPlay?n("news2"):e._e(),n("cur-words")],1),n("div",{staticClass:"sidebarsetting",class:{open:e.showSidebar}},[n("div",{staticClass:"container",staticStyle:{margin:"5px","user-select":"none",display:"flex","justify-content":"space-between","line-height":"2em"}},[n("a",{staticClass:"barTitle",staticStyle:{"font-weight":"bold","font-size":"1.5em"},on:{click:e.toggleSetting}},[n("span",{staticStyle:{color:"blue"}},[e._v("abc")]),n("span",{staticStyle:{color:"red"}},[e._v("Wo")])]),n("div",{staticClass:"content"},[n("span",{staticClass:"ver"},[e._v(" "+e._s(e.ver))])])]),n("Setting",{staticStyle:{"background-color":"gray"}}),e.error?n("div",{staticClass:"error"},[n("div",[e._v(e._s(e.error))]),n("div",[n("a",{attrs:{target:"_blank",href:e.errorUrl}},[e._v(e._s(e.errorUrl))])])]):e._e()],1),n("div",{directives:[{name:"show",rawName:"v-show",value:e.showApp,expression:"showApp"}],ref:"root",style:{zIndex:e.zIndex},attrs:{id:"root_1"}},[n("div",{ref:"rootnav",attrs:{id:"nav"}},[n("div",{staticStyle:{display:"inline-block"}},[n("input",{attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}}),n("font-awesome-icon",{ref:"play",class:{active:"HelloWorld"==e.curTab},attrs:{icon:e.config.autoSound?"volume-high":"volume-off","fixed-width":"",size:"lg"},on:{click:function(t){return e.updateConfig2({playing:!e.config2.playing})}}}),e._v(" ↔ "),n("span",{class:{active:"HelloWorld"==e.curTab},on:{click:function(t){return e.setCurTab("HelloWorld")},mouseenter:function(t){return e.enterTab(t,"HelloWorld")}}},[e._v("Detail")]),e._v(" | "),n("span",{class:{active:"NewWordsR"==e.curTab},on:{click:function(t){return e.setCurTab("NewWordsR")},mouseenter:function(t){return e.enterTab(t,"NewWordsR")}}},[e._v("Word")]),e._v(" | "),e.error?n("span",{staticStyle:{color:"red"},on:{click:function(t){return e.showError()}}},[e._v("Error")]):e._e()],1),n("input",{staticStyle:{position:"absolute",right:"3px"},attrs:{type:"checkbox",value:"true"},domProps:{checked:e.curItem.n},on:{mouseup:function(e){e.stopPropagation()},change:function(t){return e.changeItemNew(t)}}})]),n("div",[n("keep-alive",[n(e.curTab,{key:e.curTab,tag:"component",attrs:{play:"$refs.play"}})],1)],1)])]),n("top-tool")],1)}),[],!1,null,"7a0e667e",null)).exports;i.a.use(o.a);var fe={},pe=new o.a.Store({state:{loading:0,curPlay:null,srcText:"",tranText:"",audioUrl:"",curTab:"HelloWorld",newword:"",showApp:0,showSidebar:0,hkdcny:{now:"",p:""},nextUrl:"",config2:{title:"",dev:0,showPlay:!1,mask:0,showList:0,touchstart:0,playing:0,touchCustCue:0,playingM:0,videoUrl:"",playList:[],playIndex:-1,mediaType:0,mediaTypeText:""},config:{theme:"dark",fontSize:100,m3u8Repo:"",maxBitRate:0,waitTimes:2,playerNum:3,backplay:0,editor:0,playbackrate:1,custCue:0,seeCurWords:0,maxTranLen:300,viewMode:0,loopCount:3,isLoop:0,isAudio:1,fs:2,hi:0,keepNewsCount:50,autoRefresh:0,tranUrl:"",cacheMode:0,lastclean:0,retains:200,activeTran:1,shownews:0,showvideos:0,showwords:0,autoSound:"",mj:0,preload:0,dict:0,relwords:0,timeoutnext:0,audioCacheNum:1,dockList:0,rsss:[],urls:{}},curItem:{q:"",to:"",n:0,dt:0,am:"",en:"",parts:[],error:"",errorUrl:"",src:"",tos:[]},words:[],curWords:[],videos:[]},mutations:{curPlay:function(e,t){e.curPlay=t},setSrcText:function(e,t){e.srcText=t},setTranText:function(e,t){e.tranText=t},setAudioUrl:function(e,t){e.audioUrl=t},setCurTab:function(e,t){e.curTab=t},setNewword:function(e,t){e.newword=t},setShowApp:function(e,t){e.showApp=t},setShowSetting:function(e,t){e.showSidebar=t},setLoading:function(e,t){e.loading=t},setCurItem:function(e,t){e.curItem=t},setCurItem2:function(e,t){e.curItem=t},words:function(e,t){e.words=t},nextUrl:function(e,t){e.nextUrl=t},add2CurWords:function(e,t){var n=Object(U.a)(t,2),i=n[0];n[1]&&(e.curWords.length=0,fe={},e.config.seeCurWords&&(e.config.seeCurWords+=1));var r,o=Object(K.a)(i);try{for(o.s();!(r=o.n()).done;){var a=r.value;fe[a.q]||(fe[a.q]=1,e.curWords.push(a))}}catch(e){o.e(e)}finally{o.f()}},videos:function(e,t){var n=+new Date-6048e5,i=sessionStorage;if(i.doneVideoMap){var r=JSON.parse(i.doneVideoMap);for(var o in r)r[o]<n&&delete r[o];if(i.doneVideoMap=JSON.stringify(r),t){var a,s=Object(K.a)(t.filter((function(e){return!e._d})));try{for(s.s();!(a=s.n()).done;){var c=a.value;c._d=r[c.vid]||0}}catch(e){s.e(e)}finally{s.f()}t.filter((function(e){return!e._c&&(e._c=0)}))}}e.videos=t},news:function(e,t){e.news=t},config:function(e,t){e.config=Object.assign({},e.config,t)},config2:function(e,t){e.config2=Object.assign({},e.config2,t)},newWord:function(e,t){for(var n=-1,i=0;i<e.words.length;i++)if(e.words[i].q==t.q){n=i;break}if(n>-1&&e.words.splice(n,1),e.words.unshift(t),d.a.$emit("newWord",t),e.config.fzWords>0){for(var r=0,o=0;o<e.words.length&&o<=e.config.fzWords+5;o++)e.words[o].n&&r++;r>=e.config.fzWords&&d.a.$emit("fresh","words",1)}}},actions:{},modules:{},getters:{showNews:function(e){return e.config.showNews}}}),he=n("487a"),me=n.n(he),ge=n("ecee"),ve=n("c074"),ye=n("b702"),we=n("f2d1"),be={data:function(){return{}},methods:{isFullscreen:function(){return document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement||document.msFullscreenElement},exitFullscreen:function(){this.isFullscreen()&&(document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen())},enterFullscreen:function(e){e.requestFullscreen?e.requestFullscreen():e.mozRequestFullScreen?e.mozRequestFullScreen():e.webkitRequestFullscreen?e.webkitRequestFullscreen():e.msRequestFullscreen&&e.msRequestFullscreen()},emit:function(e){d.a.$emit(e)},updateConfig:function(e){var t=this;Object(b.c)(null,{cmd:"setConfig",content:Object.assign(this.config,e)},(function(){t.$store.commit("config",t.config)}))},updateConfig2:function(e){this.$store.commit("config2",Object.assign(this.config2,e))},toggleSetting:function(){this.$store.commit("setShowSetting",!this.showSidebar)},playSound:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"en";return Object(k.e)(e,t,n)},sleep:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",new Promise((function(t){setTimeout(t,e)})));case 1:case"end":return t.stop()}}),t)})))()},toggleItemIsNew:function(e,t){return e.n=e.n>0?0:1,e.i=e.n?0:e.i,this.changeItemNew(e),t&&t.stopPropagation(),!1},changeItemNew:function(e){var t=this;e.q.trim()&&Object(b.c)(null,{cmd:"newWord",content:e},(function(e){t.$store.commit("newWord",e.contents)}))},scroll2el:function(e,t){var n=e.offset().top+t[0].scrollTop-t.offset().top-t.height()+e.outerHeight();window.cancelAnimationFrame(window.requestAnimationFrame1),window.requestAnimationFrame1=window.requestAnimationFrame((function(){h()(t).animate({scrollTop:n},500)}))},saveCache:function(e,t){return Object(l.a)(regeneratorRuntime.mark((function n(){var i,r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:i="cache/"+e,r=JSON.stringify(t),r=Object(ee.d)(r),"videos"==e?localStorage[e]=r:sessionStorage[i]=r;case 5:case"end":return n.stop()}}),n)})))()},delCache:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n="cache/"+e,t.abrupt("return",fetch(n,{method:"PUT",headers:{delete:1}}).then((function(e){return e.json()})));case 2:case"end":return t.stop()}}),t)})))()},loadCache:function(e){return Object(l.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(k.d)(e));case 1:case"end":return t.stop()}}),t)})))()}},computed:Object(r.a)(Object(r.a)({},Object(o.b)(["showSidebar"])),{},{config:function(){return this.$store.state.config},dockList:function(){return this.$store.state.config.dockList},shownews:function(){return this.$store.state.config.shownews},config2:function(){return this.$store.state.config2}})},xe=(n("6519"),n("ad3d"));ge.c.add(ve.a,ye.a,we.a),i.a.component("font-awesome-icon",xe.a),i.a.component("font-awesome-layers",xe.b),i.a.component("font-awesome-layers-text",xe.c),i.a.prototype.$http=S.a,i.a.prototype.$storejs=S.a,i.a.use(me.a),i.a.mixin(be),new i.a({store:pe,render:function(e){return e(de)}}).$mount("#mytranslate_app")},"576b":function(e,t,n){},"5ef7":function(e,t,n){},"63ef":function(e,t,n){"use strict";n("9e50")},6519:function(e,t){!function(){for(var e=0,t=["webkit","moz"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t){var n=(new Date).getTime(),i=Math.max(0,16.7-(n-e)),r=window.setTimeout((function(){t(n+i)}),i);return e=n+i,r}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"674b":function(e,t,n){},6863:function(e,t,n){"use strict";n("2aa3")},"6b63":function(e,t,n){e.exports=n.p+"media/silence.mp3"},"6ff8":function(e,t,n){},7292:function(e,t,n){"use strict";n("a5a5")},"729e":function(e,t,n){"use strict";n("ebfa")},"9e50":function(e,t,n){},a3d1:function(e,t,n){},a5a5:function(e,t,n){},b293:function(e,t,n){},c951:function(e,t,n){},c95c:function(e,t,n){"use strict";n("a3d1")},ce61:function(e,t,n){"use strict";n("674b")},ebfa:function(e,t,n){}});